

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Read The Docs 1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="None" href="index.html#document-index"/> 

  
  <script src="_static/js/modernizr.min.js"></script>


<!-- RTD Extra Head -->

<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="http://docs.rtd4cdforward.io/en/latest/" />

<link rel="stylesheet" href="/media/css/readthedocs-doc-embed.css" type="text/css" />

<script type="text/javascript" src="_static/readthedocs-data.js"></script>

<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = 'index'
</script>

<script type="text/javascript" src="_static/readthedocs-dynamic-include.js"></script>

<!-- end RTD <extrahead> --></head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html#document-index" class="icon icon-home"> Read The Docs
          

          
          </a>

          
            
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">User Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-getting_started">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-versions">Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-builds">Build Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-features">Read the Docs features</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-support">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-faq">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-yaml-config">Read the Docs YAML Config</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-guides/index">Guides</a></li>
</ul>
<p class="caption"><span class="caption-text">About Read the Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-contribute">Contributing to Read the Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-team">Read the Docs Team</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-team-cdforward">我们</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-ethical-advertising">Ethical Advertising</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-sponsors">Sponsors of Read the Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-open-source-philosophy">Read the Docs Open Source Philosophy</a></li>
</ul>
<p class="caption"><span class="caption-text">Feature Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-webhooks">Webhooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-badges">Badges</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-alternate_domains">Alternate Domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-localization">Localization of Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-vcs">VCS Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-conda">Conda Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-canonical">Canonical URLs</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-single_version">Single Version Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-privacy">Privacy Levels</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-user-defined-redirects">User-defined Redirects</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-automatic-redirects">Automatic Redirects</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-features/embed">Content Embedding</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-install">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-changelog">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-tests">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-architecture">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-development/standards">Development Standards</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-development/buildenvironments">Build Environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-symlinks">How we use symlinks</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-settings">Interesting Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-i18n">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-i18n#administrative-tasks">Administrative Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-issue-labels">Overview of issue labels</a></li>
</ul>
<p class="caption"><span class="caption-text">Business Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-business/index">Read the Docs Business Features</a></li>
</ul>
<p class="caption"><span class="caption-text">Custom Install Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-custom_installs/index">Info about custom installs</a></li>
</ul>
<p class="caption"><span class="caption-text">Designer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-design">Designing Read the Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-theme">Read the Docs Theme</a></li>
</ul>
<p class="caption"><span class="caption-text">Operations Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="index.html#document-rtfd">Configuration of the production servers</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html#document-index">Read The Docs</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html#document-index">Docs</a> &raquo;</li>
      
    <li>Read The Docs 1.0 documentation</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="welcome-to-read-the-docs">
<h1>Welcome to Read The Docs<a class="headerlink" href="#welcome-to-read-the-docs" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="http://readthedocs.org/">Read the Docs</a> hosts documentation for the open source community.
We support <a class="reference external" href="http://sphinx.pocoo.org/">Sphinx</a> docs written with <a class="reference external" href="http://sphinx.pocoo.org/rest.html">reStructuredText</a> and <a class="reference external" href="http://commonmark.org/">CommonMark</a>.
We pull your code from your <a class="reference external" href="http://subversion.tigris.org/">Subversion</a>, <a class="reference external" href="http://bazaar.canonical.com/">Bazaar</a>, <a class="reference external" href="http://git-scm.com/">Git</a>, and <a class="reference external" href="http://mercurial.selenic.com/">Mercurial</a> repositories.
Then we build documentation and host it for you.
Think of it as <em>Continuous Documentation</em>.</p>
<p>The code is open source, and <a class="reference external" href="http://github.com/rtfd/readthedocs.org">available on github</a>.</p>
<p>The main documentation for the site is organized into a couple sections:</p>
<ul class="simple">
<li><a class="reference internal" href="#user-docs"><span>User Documentation</span></a></li>
<li><a class="reference internal" href="#feature-docs"><span>Feature Documentation</span></a></li>
<li><a class="reference internal" href="#about-docs"><span>About Read the Docs</span></a></li>
</ul>
<p>Information about development is also available:</p>
<ul class="simple">
<li><a class="reference internal" href="#dev-docs"><span>Developer Documentation</span></a></li>
<li><a class="reference internal" href="#design-docs"><span>Designer Documentation</span></a></li>
<li><a class="reference internal" href="#ops-docs"><span>Operations Documentation</span></a></li>
</ul>
<div class="toctree-wrapper compound" id="user-documentation">
<span id="user-docs"></span><span id="document-getting_started"></span><div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>This document will show you how to get up and running with Read the Docs.
You will have your docs imported on Read the Docs in 5 minutes,
displayed beautifully for the world.</p>
<p>If you are already using Sphinx or Markdown for your docs, skip ahead to
<a class="reference internal" href="#import-docs"><span>Import Your Docs</span></a>.</p>
<div class="section" id="write-your-docs">
<h3>Write Your Docs<a class="headerlink" href="#write-your-docs" title="Permalink to this headline">¶</a></h3>
<p>You have two options for formatting your documentation:</p>
<ul class="simple">
<li><a class="reference internal" href="#in-rst"><span>In reStructuredText</span></a></li>
<li><a class="reference internal" href="#in-markdown"><span>In Markdown</span></a></li>
</ul>
<div class="section" id="in-restructuredtext">
<span id="in-rst"></span><h4>In reStructuredText<a class="headerlink" href="#in-restructuredtext" title="Permalink to this headline">¶</a></h4>
<p>There is <a class="reference external" href="https://www.youtube.com/watch?feature=player_embedded&amp;v=oJsUvBQyHBs">a screencast</a> that will help you get started if you prefer.</p>
<p><a class="reference external" href="http://sphinx-doc.org/">Sphinx</a> is a tool that makes it easy to create beautiful documentation.
Assuming you have <a class="reference external" href="https://www.python.org/">Python</a> already, <a class="reference external" href="http://sphinx-doc.org/latest/install.html">install Sphinx</a>:</p>
<div class="highlight-python"><div class="highlight"><pre>$ pip install sphinx sphinx-autobuild
</pre></div>
</div>
<p>Create a directory inside your project to hold your docs:</p>
<div class="highlight-python"><div class="highlight"><pre>$ cd /path/to/project
$ mkdir docs
</pre></div>
</div>
<p>Run <code class="docutils literal"><span class="pre">sphinx-quickstart</span></code> in there:</p>
<div class="highlight-python"><div class="highlight"><pre>$ cd docs
$ sphinx-quickstart
</pre></div>
</div>
<p>This quick start will walk you through creating the basic configuration; in most cases, you
can just accept the defaults. When it&#8217;s done, you&#8217;ll have an <code class="docutils literal"><span class="pre">index.rst</span></code>, a
<code class="docutils literal"><span class="pre">conf.py</span></code> and some other files. Add these to revision control.</p>
<p>Now, edit your <code class="docutils literal"><span class="pre">index.rst</span></code> and add some information about your project.
Include as much detail as you like (refer to the <a class="reference external" href="http://sphinx-doc.org/rest.html">reStructuredText</a> syntax
or <a class="reference external" href="http://docs.writethedocs.org/writing/beginners-guide-to-docs/#id1">this template</a> if you need help). Build them to see how they look:</p>
<div class="highlight-python"><div class="highlight"><pre>$ make html
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can use <code class="docutils literal"><span class="pre">sphinx-autobuild</span></code> to auto-reload your docs. Run <code class="docutils literal"><span class="pre">sphinx-autobuild</span> <span class="pre">.</span> <span class="pre">_build_html</span></code> instead.</p>
</div>
<p>Edit your files and rebuild until you like what you see, then commit your changes and push to your public repository.
Once you have Sphinx documentation in a public repository, you can start using Read the Docs.</p>
</div>
<div class="section" id="in-markdown">
<span id="id1"></span><h4>In Markdown<a class="headerlink" href="#in-markdown" title="Permalink to this headline">¶</a></h4>
<p>You can use Markdown and reStructuredText in the same Sphinx project.
We support this natively on Read the Docs, and you can do it locally:</p>
<div class="highlight-python"><div class="highlight"><pre>$ pip install recommonmark
</pre></div>
</div>
<p>Then in your <code class="docutils literal"><span class="pre">conf.py</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">recommonmark.parser</span> <span class="kn">import</span> <span class="n">CommonMarkParser</span>

<span class="n">source_parsers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;.md&#39;</span><span class="p">:</span> <span class="n">CommonMarkParser</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">source_suffix</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;.rst&#39;</span><span class="p">,</span> <span class="s">&#39;.md&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Markdown doesn&#8217;t support a lot of the features of Sphinx,
like inline markup and directives.
However, it works for basic prose content.</p>
</div>
</div>
</div>
<div class="section" id="import-your-docs">
<span id="import-docs"></span><h3>Import Your Docs<a class="headerlink" href="#import-your-docs" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://readthedocs.org/accounts/signup">Sign up</a> for an account on RTD, then <a class="reference external" href="http://readthedocs.org/accounts/login">log in</a>. Visit your <a class="reference external" href="http://readthedocs.org/dashboard">dashboard</a> and click
<a class="reference external" href="http://readthedocs.org/dashboard/import">Import</a> to add your project to the site. Fill in the name and description, then
specify where your repository is located. This is normally the URL or path name
you&#8217;d use to checkout, clone, or branch your code. Some examples:</p>
<ul class="simple">
<li>Git: <code class="docutils literal"><span class="pre">http://github.com/ericholscher/django-kong.git</span></code></li>
<li>Subversion: <code class="docutils literal"><span class="pre">http://varnish-cache.org/svn/trunk</span></code></li>
<li>Mercurial: <code class="docutils literal"><span class="pre">https://bitbucket.org/ianb/pip</span></code></li>
<li>Bazaar: <code class="docutils literal"><span class="pre">lp:pasta</span></code></li>
</ul>
<p>Add an optional homepage URL and some tags, then click &#8220;Create&#8221;.</p>
<p>Within a few seconds your code will automatically be fetched from your public repository,
and the documentation will be built.
Check out our <a class="reference internal" href="index.html#document-builds"><em>Build Process</em></a> page to learn more about how we build your docs,
and to troubleshoot any issues that arise.</p>
<p>If you want to keep your code updated as you commit,
configure your code repository to hit our <a class="reference external" href="http://readthedocs.org/docs/read-the-docs/en/latest/webhooks.html">Post Commit Hooks</a>.
This will rebuild your docs every time you push your code.</p>
<p>We support multiple versions of your code. You can read more about how to use this well on our <a class="reference internal" href="index.html#document-versions"><em>Versions</em></a> page.</p>
<p>If you have any more trouble, don&#8217;t hesitate to reach out to us. The <a class="reference internal" href="index.html#document-support"><em>Support</em></a> page has more information on getting in touch.</p>
</div>
</div>
<span id="document-versions"></span><div class="section" id="versions">
<h2>Versions<a class="headerlink" href="#versions" title="Permalink to this headline">¶</a></h2>
<p>Read the Docs supports multiple versions of your repository.
On the initial import,
we will create a <code class="docutils literal"><span class="pre">latest</span></code> version.
This will point at the default branch for your VCS control: <code class="docutils literal"><span class="pre">master</span></code>, <code class="docutils literal"><span class="pre">default</span></code>, or <code class="docutils literal"><span class="pre">trunk</span></code>.</p>
<p>We also create a <code class="docutils literal"><span class="pre">stable</span></code> version,
if your project has any tagged releases.
<code class="docutils literal"><span class="pre">stable</span></code> will be automatically kept up to date to point at your highest version.</p>
<div class="section" id="how-we-envision-versions-working">
<h3>How we envision versions working<a class="headerlink" href="#how-we-envision-versions-working" title="Permalink to this headline">¶</a></h3>
<p>In the normal case,
the <code class="docutils literal"><span class="pre">latest</span></code> version will always point to the most up to date development code.
If you develop on a branch that is different than the default for your VCS,
you should set the <strong>Default Branch</strong> to that branch.</p>
<p>You should push a <strong>tag</strong> for each version of your project.
These tags should be numbered in a way that is consistent with <a class="reference external" href="http://semver.org/">semantic versioning</a>.
This will map to your <code class="docutils literal"><span class="pre">stable</span></code> branch by default.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>We in fact are parsing your tag names against the rules given by
<a class="reference external" href="https://www.python.org/dev/peps/pep-0440/">PEP 440</a>. This spec allows &#8220;normal&#8221; version numbers like <code class="docutils literal"><span class="pre">1.4.2</span></code> as
well as pre-releases. An alpha version or a release candidate are examples
of pre-releases and they look like this: <code class="docutils literal"><span class="pre">2.0a1</span></code>.</p>
<p class="last">We only consider non pre-releases for the <code class="docutils literal"><span class="pre">stable</span></code> version of your
documentation.</p>
</div>
<p>If you have documentation changes on a <strong>long-lived branch</strong>,
you can build those too.
This will allow you to see how the new docs will be built in this branch of the code.
Generally you won&#8217;t have more than 1 active branch over a long period of time.
The main exception here would be <strong>release branches</strong>,
which are branches that are maintained over time for a specific release number.</p>
</div>
<div class="section" id="redirects-on-root-urls">
<h3>Redirects on root URLs<a class="headerlink" href="#redirects-on-root-urls" title="Permalink to this headline">¶</a></h3>
<p>When a user hits the root URL for your documentation,
for example <code class="docutils literal"><span class="pre">http://pip.readthedocs.io/</span></code>,
they will be redirected to the <strong>Default version</strong>.
This defaults to <strong>latest</strong>,
but could also point to your latest released version.</p>
</div>
</div>
<span id="document-builds"></span><div class="section" id="build-process">
<h2>Build Process<a class="headerlink" href="#build-process" title="Permalink to this headline">¶</a></h2>
<p>Files: <a class="reference external" href="https://github.com/rtfd/readthedocs.org/blob/master/readthedocs/projects/tasks.py">tasks.py</a> - <a class="reference external" href="https://github.com/rtfd/readthedocs.org/tree/master/readthedocs/doc_builder">doc_builder/</a></p>
<p>Every documentation build has limited resources.
Our current build limits are:</p>
<ul class="simple">
<li>15 minutes</li>
<li>1GB of memory</li>
</ul>
<p>We can increase build limits on a per-project basis,
if you provide a good reason your documentation needs more resources.</p>
<div class="section" id="how-we-build-documentation">
<h3>How we build documentation<a class="headerlink" href="#how-we-build-documentation" title="Permalink to this headline">¶</a></h3>
<p>When we import your documentation, we look at two things first: your <em>Repository URL</em> and the <em>Documentation Type</em>.
We will clone your repository,
and then build your documentation using the <em>Documentation Type</em> specified.</p>
<div class="section" id="sphinx">
<h4>Sphinx<a class="headerlink" href="#sphinx" title="Permalink to this headline">¶</a></h4>
<p>When you choose <em>Sphinx</em> as your <em>Documentation Type</em>,
we will first look for a <code class="docutils literal"><span class="pre">conf.py</span></code> file in your repository.
If we don&#8217;t find one,
we will generate one for you.
We will look inside a <code class="docutils literal"><span class="pre">doc</span></code> or <code class="docutils literal"><span class="pre">docs</span></code> directory first,
and then look within your entire project.</p>
<p>Then Sphinx will build any files with an <code class="docutils literal"><span class="pre">.rst</span></code> extension.
If you have a <code class="docutils literal"><span class="pre">README.rst</span></code>,
it will be transformed into an <code class="docutils literal"><span class="pre">index.rst</span></code> automatically.</p>
</div>
<div class="section" id="mkdocs">
<h4>Mkdocs<a class="headerlink" href="#mkdocs" title="Permalink to this headline">¶</a></h4>
<p>When you choose <em>Mkdocs</em> as your <em>Documentation Type</em>,
we will first look for a <code class="docutils literal"><span class="pre">mkdocs.yml</span></code> file in your repository.
If we don&#8217;t find one,
we will generate one for you.
We will look inside a <code class="docutils literal"><span class="pre">doc</span></code> or <code class="docutils literal"><span class="pre">docs</span></code> directory first,
and then default to the top-level of your documentation.</p>
<p>Then Mkdocs will build any files with an <code class="docutils literal"><span class="pre">.md</span></code> extension.
If you have a <code class="docutils literal"><span class="pre">README.md</span></code>,
it will be transformed into an <code class="docutils literal"><span class="pre">index.md</span></code> automatically.
As MkDocs doesn&#8217;t support automatic PDF generation,
Read the Docs cannot create a PDF version of your documentation with the <em>Mkdocs</em> option.</p>
</div>
</div>
<div class="section" id="understanding-what-s-going-on">
<h3>Understanding what&#8217;s going on<a class="headerlink" href="#understanding-what-s-going-on" title="Permalink to this headline">¶</a></h3>
<p>Understanding how Read the Docs builds your project will help you with debugging the problems you have with the site. It should also allow you to take advantage of certain things that happen during the build process.</p>
<p>The first step of the process is that we check out your code from the repository you have given us. If the code is already checked out, we update the copy to the branch that you have specified in your projects configuration.</p>
<p>Then we build the proper backend code for the type of documentation you&#8217;ve selected.</p>
<p>If you have the <em>Install Project</em> option enabled, we will run <code class="docutils literal"><span class="pre">setup.py</span> <span class="pre">install</span></code> on your package, installing it into a virtual environment. You can also define additional packages to install with the <em>Requirements File</em> option.</p>
<p>When we build your documentation, we run <code class="xref py py-obj docutils literal"><span class="pre">sphinx-build</span> <span class="pre">-b</span> <span class="pre">html</span> <span class="pre">.</span> <span class="pre">_build/html</span></code>, where <code class="xref py py-obj docutils literal"><span class="pre">html</span></code> would be replaced with the correct backend. We also create man pages and pdf&#8217;s automatically based on your project.</p>
<p>Then these files are copied across to our application servers from the build server. Once on the application servers, they are served from nginx.</p>
<p>An example in code:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">update_imported_docs</span><span class="p">(</span><span class="n">version</span><span class="p">)</span>
<span class="k">if</span> <span class="n">exists</span><span class="p">(</span><span class="s">&#39;setup.py&#39;</span><span class="p">):</span>
    <span class="n">run</span><span class="p">(</span><span class="s">&#39;python setup.py install&#39;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">project</span><span class="o">.</span><span class="n">requirements_file</span><span class="p">:</span>
    <span class="n">run</span><span class="p">(</span><span class="s">&#39;pip install -r </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">project</span><span class="o">.</span><span class="n">requirements_file</span><span class="p">)</span>
<span class="n">build_docs</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="n">version</span><span class="p">)</span>
<span class="n">copy_files</span><span class="p">(</span><span class="n">artifact_dir</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="builder-responsibility">
<h3>Builder Responsibility<a class="headerlink" href="#builder-responsibility" title="Permalink to this headline">¶</a></h3>
<p>Builders have a very specific job.
They take the updated source code and generate the correct artifacts.
The code lives in <code class="docutils literal"><span class="pre">self.version.project.checkout_path(self.version.slug)</span></code>.
The artifacts should end up in <code class="docutils literal"><span class="pre">self.version.project.artifact_path(version=self.version.slug,</span> <span class="pre">type=self.type)</span></code>
Where <code class="docutils literal"><span class="pre">type</span></code> is the name of your builder.
All files that end up in the artifact directory should be in their final form.</p>
</div>
<div class="section" id="packages-installed-in-the-build-environment">
<h3>Packages installed in the build environment<a class="headerlink" href="#packages-installed-in-the-build-environment" title="Permalink to this headline">¶</a></h3>
<p>The build server does have a select number of C libraries installed, because they are used across a wide array of python projects. We can&#8217;t install every C library out there, but we try and support the major ones. We currently have the following libraries installed:</p>
<blockquote>
<div><ul class="simple">
<li>doxygen</li>
<li>LaTeX (texlive-full)</li>
<li>libevent (libevent-dev)</li>
<li>dvipng</li>
<li>graphviz</li>
<li>libxslt1.1</li>
<li>libxml2-dev</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="writing-your-own-builder">
<h3>Writing your own builder<a class="headerlink" href="#writing-your-own-builder" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Builds happen on a server using only the RTD Public API. There is no reason that you couldn&#8217;t build your own independent builder that wrote into the RTD namespace. The only thing that is currently unsupported there is a saner way than uploading the processed files as a zip.</p>
</div>
<p>The documentation build system in RTD is made pluggable, so that you can build out your own backend. If you have a documentation format that isn&#8217;t currently supported, you can add support by contributing a backend.</p>
<p>The <a class="reference internal" href="index.html#document-api/doc_builder"><em>readthedocs.doc_builder</em></a> API explains the higher level parts of the API that you need to implement. A basic run goes something like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">backend</span> <span class="o">=</span> <span class="n">get_backend</span><span class="p">(</span><span class="n">project</span><span class="o">.</span><span class="n">documentation_type</span><span class="p">)</span>
<span class="k">if</span> <span class="n">force</span><span class="p">:</span>
    <span class="n">backend</span><span class="o">.</span><span class="n">force</span><span class="p">(</span><span class="n">version</span><span class="p">)</span>
<span class="n">backend</span><span class="o">.</span><span class="n">clean</span><span class="p">(</span><span class="n">version</span><span class="p">)</span>
<span class="n">backend</span><span class="o">.</span><span class="n">build</span><span class="p">(</span><span class="n">version</span><span class="p">)</span>
<span class="k">if</span> <span class="n">success</span><span class="p">:</span>
    <span class="n">backend</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">version</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="deleting-a-stale-or-broken-build-environment">
<h3>Deleting a stale or broken build environment<a class="headerlink" href="#deleting-a-stale-or-broken-build-environment" title="Permalink to this headline">¶</a></h3>
<p>If you&#8217;re having trouble getting your version to build, try wiping out the existing build/environment files.  On your version list page <code class="docutils literal"><span class="pre">/projects/[project]/versions</span></code> there is a &#8220;Wipe&#8221; button that will remove all of the files associated with your documentation build, but not the documentation itself.</p>
</div>
</div>
<span id="document-features"></span><div class="section" id="read-the-docs-features">
<h2>Read the Docs features<a class="headerlink" href="#read-the-docs-features" title="Permalink to this headline">¶</a></h2>
<p>This will serve as a list of all of the features that Read the Docs currently has. Some features are important enough to have their own page in the docs, others will simply be listed here.</p>
<div class="section" id="github-and-bitbucket-integration">
<h3>GitHub and Bitbucket Integration<a class="headerlink" href="#github-and-bitbucket-integration" title="Permalink to this headline">¶</a></h3>
<p>We now support linking by default in the sidebar. It links to the page on your host, which should help people quickly update typos and send pull requests to contribute to project documentation.</p>
<p>More information can be found in the <a class="reference internal" href="index.html#document-vcs"><em>VCS Integration</em></a> page.</p>
</div>
<div class="section" id="auto-updating">
<h3>Auto-updating<a class="headerlink" href="#auto-updating" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="index.html#document-webhooks"><em>Webhooks</em></a> page talks about the different ways you can ping RTD to let us know your project has been updated. We have official support for GitHub, and anywhere else we have a generic post-commit hook that allows you to POST to a URL to get your documentation built.</p>
</div>
<div class="section" id="internationalization">
<h3>Internationalization<a class="headerlink" href="#internationalization" title="Permalink to this headline">¶</a></h3>
<p>Read the Docs itself is localized, and we support documentation translated into multiple languages. Read more on the <a class="reference internal" href="index.html#document-localization"><em>Localization of Documentation</em></a> and <a class="reference internal" href="index.html#document-i18n"><em>Internationalization</em></a> pages.</p>
</div>
<div class="section" id="canonical-urls">
<h3>Canonical URLs<a class="headerlink" href="#canonical-urls" title="Permalink to this headline">¶</a></h3>
<p>Canonical URLs give your docs better search performance, by pointing all URLs to one version. This also helps to solve the issues around users landing on outdated versions of documentation.</p>
<p>More information can be found in the <a class="reference internal" href="index.html#document-canonical"><em>Canonical URLs</em></a> page.</p>
</div>
<div class="section" id="versions">
<h3>Versions<a class="headerlink" href="#versions" title="Permalink to this headline">¶</a></h3>
<p>We can build multiple versions of your documentation. Look on the &#8220;Versions&#8221; page
of your project&#8217;s admin (using the nav on the left) to find a list of available versions
that we&#8217;ve inferred from the tags and branches in your source control system (according to
the support matrix below). On the Versions page you can tell us which versions you&#8217;d like us
to build docs for, whether each should be public, protected, or private, and what the default
version should be (we&#8217;ll redirect there when someone hits your main project page, e.g.,
<a class="reference external" href="http://my-project.rtfd.org/">http://my-project.rtfd.org/</a>).</p>
</div>
<div class="section" id="version-control-support-matrix">
<h3>Version Control Support Matrix<a class="headerlink" href="#version-control-support-matrix" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="21%" />
<col width="19%" />
<col width="21%" />
<col width="19%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&nbsp;</th>
<th class="head">Git</th>
<th class="head">hg</th>
<th class="head">bzr</th>
<th class="head">svn</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Tags</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr class="row-odd"><td>Branches</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr class="row-even"><td>Default</td>
<td>master</td>
<td>default</td>
<td>&nbsp;</td>
<td>trunk</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="pdf-generation">
<h3>PDF Generation<a class="headerlink" href="#pdf-generation" title="Permalink to this headline">¶</a></h3>
<p>When you build your project on RTD, we automatically build a PDF of your project&#8217;s documentation. We also build them for every version that you upload, so we can host the PDFs of your latest documentation, as well as your latest stable releases as well.</p>
</div>
<div class="section" id="search">
<h3>Search<a class="headerlink" href="#search" title="Permalink to this headline">¶</a></h3>
<p>We provide full-text search across all of the pages of documentation hosted on our site. This uses the excellent Haystack project and Solr as the search backend. We hope to be integrating this into the site more fully in the future.</p>
</div>
<div class="section" id="alternate-domains">
<h3>Alternate Domains<a class="headerlink" href="#alternate-domains" title="Permalink to this headline">¶</a></h3>
<p>We provide support for CNAMEs, subdomains, and a shorturl for your project as well. This is outlined in the <a class="reference internal" href="index.html#document-alternate_domains"><em>Alternate Domains</em></a> section.</p>
</div>
</div>
<span id="document-support"></span><div class="section" id="support">
<h2>Support<a class="headerlink" href="#support" title="Permalink to this headline">¶</a></h2>
<div class="section" id="usage-questions">
<h3>Usage Questions<a class="headerlink" href="#usage-questions" title="Permalink to this headline">¶</a></h3>
<p>If you have questions about how to use Read the Docs, or have an issue that
isn&#8217;t related to a bug, <a class="reference external" href="http://stackoverflow.com/questions/tagged/read-the-docs">Stack Overflow</a> is the best place to ask.  Tag
questions with <code class="docutils literal"><span class="pre">read-the-docs</span></code> so other folks can find them easily.</p>
<p>Good questions for Stack Overflow would be:</p>
<ul class="simple">
<li>&#8220;What is the best way to structure the table of contents across a project?&#8221;</li>
<li>&#8220;How do I structure translations inside of my project for easiest contribution from users?&#8221;</li>
<li>&#8220;How do I use Sphinx to use SVG images in HTML output but PNG in PDF output?&#8221;</li>
</ul>
</div>
<div class="section" id="community-support">
<h3>Community Support<a class="headerlink" href="#community-support" title="Permalink to this headline">¶</a></h3>
<p>Read the Docs is a community supported site,
nobody is paid to handle readthedocs.org support.
We are hoping to bring in enough money with our <a class="reference external" href="https://readthedocs.org/accounts/gold/">Gold</a> program to change that,
so please sign up if you are able.</p>
<p><strong>All people answering your questions are doing it with their own time,
so please be kind and provide as much information as possible.</strong></p>
<div class="section" id="bugs-support-issues">
<h4>Bugs &amp; Support Issues<a class="headerlink" href="#bugs-support-issues" title="Permalink to this headline">¶</a></h4>
<p>You can file bug reports on our <a class="reference external" href="https://github.com/rtfd/readthedocs.org/issues">GitHub issue tracker</a>,
and they will be addressed as soon as possible.
<strong>Support is a volunteer effort</strong>,
and there is no guaranteed response time.
If you need answers quickly,
you can buy commercial support below.</p>
</div>
<div class="section" id="reporting-issues">
<h4>Reporting Issues<a class="headerlink" href="#reporting-issues" title="Permalink to this headline">¶</a></h4>
<p>When reporting a bug,
please include as much information as possible that will help us solve this issue.
This includes:</p>
<ul class="simple">
<li>Project name</li>
<li>URL</li>
<li>Action taken</li>
<li>Expected result</li>
<li>Actual result</li>
</ul>
</div>
</div>
<div class="section" id="commercial-support">
<h3>Commercial Support<a class="headerlink" href="#commercial-support" title="Permalink to this headline">¶</a></h3>
<p>We offer commercial support for Read the Docs, commercial hosting,
as well as consulting around all documentation systems.
You can contact us at <a class="reference external" href="mailto:hello&#37;&#52;&#48;readthedocs&#46;com">hello<span>&#64;</span>readthedocs<span>&#46;</span>com</a> to learn more,
or read more at <a class="reference external" href="https://readthedocs.com/services/#open-source-support">https://readthedocs.com/services/#open-source-support</a>.</p>
</div>
</div>
<span id="document-faq"></span><div class="section" id="frequently-asked-questions">
<h2>Frequently Asked Questions<a class="headerlink" href="#frequently-asked-questions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="my-project-isn-t-building-with-autodoc">
<h3>My project isn&#8217;t building with autodoc<a class="headerlink" href="#my-project-isn-t-building-with-autodoc" title="Permalink to this headline">¶</a></h3>
<p>First, you should check out the Builds tab of your project. That records all of the build attempts that RTD has made to build your project. If you see <code class="docutils literal"><span class="pre">ImportError</span></code> messages for custom Python modules, you should enable the virtualenv feature in the Admin page of your project, which will install your project into a virtualenv, and allow you to specify a <code class="docutils literal"><span class="pre">requirements.txt</span></code> file for your project.</p>
<p>If you are still seeing errors because of C library dependencies, please see the below section about that.</p>
</div>
<div class="section" id="how-do-i-change-my-slug-the-url-your-docs-are-served-at">
<h3>How do I change my slug (the URL your docs are served at)?<a class="headerlink" href="#how-do-i-change-my-slug-the-url-your-docs-are-served-at" title="Permalink to this headline">¶</a></h3>
<p>We don&#8217;t support allowing folks to change the slug for their project.
You can update the name which is shown on the site,
but not the actual URL that documentation is served.</p>
<p>The main reason for this is that all existing URLs to the content will break.
You can delete and re-create the project with the proper name to get a new slug,
but you really shouldn&#8217;t do this if you have existing inbound links,
as it <a class="reference external" href="http://www.w3.org/Provider/Style/URI.html">breaks the internet</a>.</p>
</div>
<div class="section" id="how-do-i-change-behavior-for-read-the-docs">
<h3>How do I change behavior for Read the Docs?<a class="headerlink" href="#how-do-i-change-behavior-for-read-the-docs" title="Permalink to this headline">¶</a></h3>
<p>When RTD builds your project, it sets the <span class="target" id="index-0"></span><code class="xref std std-envvar docutils literal"><span class="pre">READTHEDOCS</span></code> environment
variable to the string <code class="xref py py-obj docutils literal"><span class="pre">True</span></code>. So within your Sphinx <code class="file docutils literal"><span class="pre">conf.py</span></code> file, you
can vary the behavior based on this. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">os</span>
<span class="n">on_rtd</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;READTHEDOCS&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s">&#39;True&#39;</span>
<span class="k">if</span> <span class="n">on_rtd</span><span class="p">:</span>
    <span class="n">html_theme</span> <span class="o">=</span> <span class="s">&#39;default&#39;</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">html_theme</span> <span class="o">=</span> <span class="s">&#39;nature&#39;</span>
</pre></div>
</div>
<p>The <span class="target" id="index-1"></span><code class="xref std std-envvar docutils literal"><span class="pre">READTHEDOCS</span></code> variable is also available in the Sphinx build
environment, and will be set to <code class="docutils literal"><span class="pre">True</span></code> when building on RTD:</p>
<div class="highlight-python"><div class="highlight"><pre>{% if READTHEDOCS %}
Woo
{% endif %}
</pre></div>
</div>
</div>
<div class="section" id="i-get-import-errors-on-libraries-that-depend-on-c-modules">
<h3>I get import errors on libraries that depend on C modules<a class="headerlink" href="#i-get-import-errors-on-libraries-that-depend-on-c-modules" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Another use case for this is when you have a module with a C extension.</p>
</div>
<p>This happens because our build system doesn&#8217;t have the dependencies for building your project. This happens with things like libevent and mysql, and other python things that depend on C libraries. We can&#8217;t support installing random C binaries on our system, so there is another way to fix these imports.</p>
<p>You can mock out the imports for these modules in your <code class="docutils literal"><span class="pre">conf.py</span></code> with the following snippet:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">unittest.mock</span> <span class="kn">import</span> <span class="n">MagicMock</span>

<span class="k">class</span> <span class="nc">Mock</span><span class="p">(</span><span class="n">MagicMock</span><span class="p">):</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">__getattr__</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">Mock</span><span class="p">()</span>

<span class="n">MOCK_MODULES</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;pygtk&#39;</span><span class="p">,</span> <span class="s">&#39;gtk&#39;</span><span class="p">,</span> <span class="s">&#39;gobject&#39;</span><span class="p">,</span> <span class="s">&#39;argparse&#39;</span><span class="p">,</span> <span class="s">&#39;numpy&#39;</span><span class="p">,</span> <span class="s">&#39;pandas&#39;</span><span class="p">]</span>
<span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="o">.</span><span class="n">update</span><span class="p">((</span><span class="n">mod_name</span><span class="p">,</span> <span class="n">Mock</span><span class="p">())</span> <span class="k">for</span> <span class="n">mod_name</span> <span class="ow">in</span> <span class="n">MOCK_MODULES</span><span class="p">)</span>
</pre></div>
</div>
<p>Of course, replacing <code class="xref py py-obj docutils literal"><span class="pre">MOCK_MODULES</span></code> with the modules that you want to mock out.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>The library <code class="docutils literal"><span class="pre">unittest.mock</span></code> was introduced on python 3.3. On earlier versions install the <code class="docutils literal"><span class="pre">mock</span></code> library
from PyPI with (ie <code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">mock</span></code>) and replace the above import:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">mock</span> <span class="kn">import</span> <span class="n">Mock</span> <span class="k">as</span> <span class="n">MagicMock</span>
</pre></div>
</div>
</div>
<p>If such libraries are installed via <code class="docutils literal"><span class="pre">setup.py</span></code>, you also will need to remove all the C-dependent libraries from your <code class="docutils literal"><span class="pre">install_requires</span></code> in the RTD environment.</p>
</div>
<div class="section" id="client-error-401-when-building-documentation">
<h3><code class="xref py py-obj docutils literal"><span class="pre">Client</span> <span class="pre">Error</span> <span class="pre">401</span></code> when building documentation<a class="headerlink" href="#client-error-401-when-building-documentation" title="Permalink to this headline">¶</a></h3>
<p>If you did not install the <code class="xref py py-obj docutils literal"><span class="pre">test_data</span></code> fixture during the installation
instructions, you will get the following error:</p>
<div class="highlight-python"><div class="highlight"><pre>slumber.exceptions.HttpClientError: Client Error 401: http://localhost:8000/api/v1/version/
</pre></div>
</div>
<p>This is because the API admin user does not exist, and so cannot authenticate.
You can fix this by loading the test_data:</p>
<div class="highlight-python"><div class="highlight"><pre>./manage.py loaddata test_data
</pre></div>
</div>
<p>If you&#8217;d prefer not to install the test data, you&#8217;ll need to provide a database
account for the builder to use. You can provide these credentials by editing the
following settings:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">SLUMBER_USERNAME</span> <span class="o">=</span> <span class="s">&#39;test&#39;</span>
<span class="n">SLUMBER_PASSWORD</span> <span class="o">=</span> <span class="s">&#39;test&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="deleting-a-stale-or-broken-build-environment">
<h3>Deleting a stale or broken build environment<a class="headerlink" href="#deleting-a-stale-or-broken-build-environment" title="Permalink to this headline">¶</a></h3>
<p>If you&#8217;re having trouble getting your version to build, try wiping out the existing build/environment files.  On your version list page <code class="docutils literal"><span class="pre">/projects/[project]/versions</span></code> there is a &#8220;Wipe&#8221; button that will remove all of the files associated with your documentation build, but not the documentation itself.</p>
</div>
<div class="section" id="how-do-i-host-multiple-projects-on-one-cname">
<h3>How do I host multiple projects on one CNAME?<a class="headerlink" href="#how-do-i-host-multiple-projects-on-one-cname" title="Permalink to this headline">¶</a></h3>
<p>We support the concept of Subprojects.
If you add a subproject to a project,
that documentation will also be served under the parent project&#8217;s subdomain.</p>
<p>For example,
Kombu is a subproject of celery,
so you can access it on the <code class="xref py py-obj docutils literal"><span class="pre">celery.readthedocs.io</span></code> domain:</p>
<p><a class="reference external" href="http://celery.readthedocs.io/projects/kombu/en/latest/">http://celery.readthedocs.io/projects/kombu/en/latest/</a></p>
<p>This also works the same for CNAMEs:</p>
<p><a class="reference external" href="http://docs.celeryproject.org/projects/kombu/en/latest/">http://docs.celeryproject.org/projects/kombu/en/latest/</a></p>
<p>You can add subprojects in the Admin section for your project.</p>
</div>
<div class="section" id="where-do-i-need-to-put-my-docs-for-rtd-to-find-it">
<h3>Where do I need to put my docs for RTD to find it?<a class="headerlink" href="#where-do-i-need-to-put-my-docs-for-rtd-to-find-it" title="Permalink to this headline">¶</a></h3>
<p>Read the Docs will crawl your project looking for a <code class="docutils literal"><span class="pre">conf.py</span></code>. Where it finds the <code class="docutils literal"><span class="pre">conf.py</span></code>, it will run <code class="docutils literal"><span class="pre">sphinx-build</span></code> in that directory. So as long as you only have one set of sphinx documentation in your project, it should Just Work.</p>
</div>
<div class="section" id="i-want-to-use-the-blue-default-sphinx-theme">
<h3>I want to use the Blue/Default Sphinx theme<a class="headerlink" href="#i-want-to-use-the-blue-default-sphinx-theme" title="Permalink to this headline">¶</a></h3>
<p>We think that our theme is badass, and better than the default for many reasons. Some people don&#8217;t like change though :), so there is a hack that will let you keep using the default theme. If you set the <code class="docutils literal"><span class="pre">html_style</span></code> variable in your <code class="docutils literal"><span class="pre">conf.py</span></code>, it should default to using the default theme. The value of this doesn&#8217;t matter, and can be set to <code class="docutils literal"><span class="pre">/default.css</span></code> for default behavior.</p>
</div>
<div class="section" id="i-want-to-use-the-read-the-docs-theme-locally">
<h3>I want to use the Read the Docs theme locally<a class="headerlink" href="#i-want-to-use-the-read-the-docs-theme-locally" title="Permalink to this headline">¶</a></h3>
<p>There is a repository for that: <a class="reference external" href="https://github.com/snide/sphinx_rtd_theme">https://github.com/snide/sphinx_rtd_theme</a>.
Simply follow the instructions in the README.</p>
</div>
<div class="section" id="image-scaling-doesn-t-work-in-my-documentation">
<h3>Image scaling doesn&#8217;t work in my documentation<a class="headerlink" href="#image-scaling-doesn-t-work-in-my-documentation" title="Permalink to this headline">¶</a></h3>
<p>Image scaling in docutils depends on PIL. PIL is installed in the system that RTD runs on. However, if you are using the virtualenv building option, you will likely need to include PIL in your requirements for your project.</p>
</div>
<div class="section" id="i-want-comments-in-my-docs">
<h3>I want comments in my docs<a class="headerlink" href="#i-want-comments-in-my-docs" title="Permalink to this headline">¶</a></h3>
<p>RTD doesn&#8217;t have explicit support for this. That said, a tool like <a class="reference external" href="http://disqus.com/">Disqus</a> can be used for this purpose on RTD.</p>
</div>
<div class="section" id="how-do-i-support-multiple-languages-of-documentation">
<h3>How do I support multiple languages of documentation?<a class="headerlink" href="#how-do-i-support-multiple-languages-of-documentation" title="Permalink to this headline">¶</a></h3>
<p>See the section on <a class="reference internal" href="index.html#localization-of-documentation"><span>Localization of Documentation</span></a>.</p>
</div>
<div class="section" id="do-i-need-to-be-whitelisted">
<h3>Do I need to be whitelisted?<a class="headerlink" href="#do-i-need-to-be-whitelisted" title="Permalink to this headline">¶</a></h3>
<p>No. Whitelisting has been removed as a concept in Read the Docs. You should have access to all of the features already.</p>
</div>
<div class="section" id="does-read-the-docs-work-well-with-legible-docstrings">
<h3>Does Read The Docs work well with &#8220;legible&#8221; docstrings?<a class="headerlink" href="#does-read-the-docs-work-well-with-legible-docstrings" title="Permalink to this headline">¶</a></h3>
<p>Yes. One criticism of Sphinx is that its annotated docstrings are too
dense and difficult for humans to read. In response, many projects
have adopted customized docstring styles that are simultaneously
informative and legible. The
<a class="reference external" href="https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt">NumPy</a>
and
<a class="reference external" href="http://google-styleguide.googlecode.com/svn/trunk/pyguide.html?showone=Comments#Comments">Google</a>
styles are two popular docstring formats.  Fortunately, the default
Read The Docs theme handles both formats just fine, provided
your <code class="docutils literal"><span class="pre">conf.py</span></code> specifies an appropriate Sphinx extension that
knows how to convert your customized docstrings.  Two such extensions
are <a class="reference external" href="https://github.com/numpy/numpydoc">numpydoc</a> and
<a class="reference external" href="http://sphinxcontrib-napoleon.readthedocs.io">napoleon</a>. Only
<code class="docutils literal"><span class="pre">napoleon</span></code> is able to handle both docstring formats. Its default
output more closely matches the format of standard Sphinx annotations,
and as a result, it tends to look a bit better with the default theme.</p>
</div>
<div class="section" id="can-i-document-a-python-package-that-is-not-at-the-root-of-my-repository">
<h3>Can I document a python package that is not at the root of my repository?<a class="headerlink" href="#can-i-document-a-python-package-that-is-not-at-the-root-of-my-repository" title="Permalink to this headline">¶</a></h3>
<p>Yes. The most convenient way to access a python package for example via
<a class="reference external" href="http://sphinx-doc.org/ext/autodoc.html">Sphinx&#8217;s autoapi</a> in your documentation is to use the <em>Install your project
inside a virtualenv using ``setup.py install``</em> option in the admin panel of
your project. However this assumes that your <code class="docutils literal"><span class="pre">setup.py</span></code> is in the root of
your repository.</p>
<p>If you want to place your package in a different directory or have multiple
python packages in the same project, then create a pip requirements file. You
can specify the relative path to your package inside the file.
For example you want to keep your python package in the <code class="docutils literal"><span class="pre">src/python</span></code>
directory, then create a <code class="docutils literal"><span class="pre">requirements.readthedocs.txt</span></code> file with the
following contents:</p>
<div class="highlight-python"><div class="highlight"><pre>src/python/
</pre></div>
</div>
<p>Please note that the path must be relative to the file. So the example path
above would work if the file is in the root of your repository. If you want to
put the requirements in a file called <code class="docutils literal"><span class="pre">requirements/readthedocs.txt</span></code>, the
contents would look like:</p>
<div class="highlight-python"><div class="highlight"><pre>../python/
</pre></div>
</div>
<p>After adding the file to your repository, go to the <em>Advanced Settings</em> in
your project&#8217;s admin panel and add the name of the file to the <em>Requirements
file</em> field.</p>
</div>
</div>
<span id="document-yaml-config"></span><div class="section" id="read-the-docs-yaml-config">
<h2>Read the Docs YAML Config<a class="headerlink" href="#read-the-docs-yaml-config" title="Permalink to this headline">¶</a></h2>
<p>Read the Docs now has support for configuring builds with a YAML file.
The file, <code class="xref py py-obj docutils literal"><span class="pre">readthedocs.yml</span></code>, must be in the root directory of your project.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This feature is in a beta state.
Please file an <a class="reference external" href="https://github.com/rtfd/readthedocs.org/issues">issue</a> if you find anything wrong.</p>
</div>
<div class="section" id="supported-settings">
<h3>Supported Settings<a class="headerlink" href="#supported-settings" title="Permalink to this headline">¶</a></h3>
<div class="section" id="formats">
<h4>formats<a class="headerlink" href="#formats" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Default: <code class="docutils literal"><span class="pre">htmlzip</span></code>, <code class="docutils literal"><span class="pre">pdf</span></code>, <code class="docutils literal"><span class="pre">epub</span></code></li>
<li>Options: <code class="docutils literal"><span class="pre">htmlzip</span></code>, <code class="docutils literal"><span class="pre">pdf</span></code>, <code class="docutils literal"><span class="pre">epub</span></code>, <code class="docutils literal"><span class="pre">none</span></code></li>
</ul>
<p>The formats of your documentation you want to be built.
Choose <code class="docutils literal"><span class="pre">none</span></code> to build none of the formats.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">We will always build an HTML &amp; JSON version of your documentation.
These are used for web serving &amp; search indexing, respectively.</p>
</div>
<div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># Don&#39;t build any extra formats</span>
<span class="l-Scalar-Plain">formats</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">none</span>
</pre></div>
</div>
<div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># Build PDF &amp; ePub</span>
<span class="l-Scalar-Plain">formats</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">epub</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">pdf</span>
</pre></div>
</div>
</div>
<div class="section" id="requirements-file">
<h4>requirements_file<a class="headerlink" href="#requirements-file" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Default: <code class="xref py py-obj docutils literal"><span class="pre">None</span></code></li>
<li>Type: Path (specified from the root of the project)</li>
</ul>
<p>The path to your Pip requirements file.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">requirements_file</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">requirements/docs.txt</span>
</pre></div>
</div>
</div>
<div class="section" id="conda">
<h4>conda<a class="headerlink" href="#conda" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal"><span class="pre">conda</span></code> block allows for configuring our support for Conda.</p>
<div class="section" id="conda-file">
<h5>conda.file<a class="headerlink" href="#conda-file" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Default: <code class="xref py py-obj docutils literal"><span class="pre">None</span></code></li>
<li>Type: Path (specified from the root of the project)</li>
</ul>
<p>The file option specified the Conda <a class="reference external" href="http://conda.pydata.org/docs/using/envs.html#share-an-environment">environment file</a> to use.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">conda</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">file</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">environment.yml</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Conda is only supported via the YAML file.</p>
</div>
</div>
</div>
<div class="section" id="python">
<h4>python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal"><span class="pre">python</span></code> block allows you to configure aspects of the Python executable
used for building documentation.</p>
<div class="section" id="python-version">
<h5>python.version<a class="headerlink" href="#python-version" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Default: <code class="docutils literal"><span class="pre">2</span></code></li>
<li>Options: <code class="docutils literal"><span class="pre">2</span></code>, <code class="docutils literal"><span class="pre">3</span></code></li>
</ul>
<p>The version of Python to use when building your documentation.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">python</span><span class="p-Indicator">:</span>
   <span class="l-Scalar-Plain">version</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">3</span>
</pre></div>
</div>
</div>
<div class="section" id="python-setup-py-install">
<h5>python.setup_py_install<a class="headerlink" href="#python-setup-py-install" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Default: <code class="xref py py-obj docutils literal"><span class="pre">False</span></code></li>
<li>Type: Boolean</li>
</ul>
<p>When true, install your project into the Virtualenv with
<code class="docutils literal"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install</span></code> when building documentation.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">python</span><span class="p-Indicator">:</span>
   <span class="l-Scalar-Plain">setup_py_install</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>
</pre></div>
</div>
</div>
<div class="section" id="python-pip-install">
<h5>python.pip_install<a class="headerlink" href="#python-pip-install" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Default: <code class="xref py py-obj docutils literal"><span class="pre">False</span></code></li>
<li>Type: Boolean</li>
</ul>
<p>When true, install your project into the Virtualenv with pip when building
documentation.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">python</span><span class="p-Indicator">:</span>
   <span class="l-Scalar-Plain">pip_install</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">true</span>
</pre></div>
</div>
</div>
<div class="section" id="python-extra-requirements">
<h5>python.extra_requirements<a class="headerlink" href="#python-extra-requirements" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li>Default: <code class="docutils literal"><span class="pre">[]</span></code></li>
<li>Type: List</li>
</ul>
<p>List of <a class="reference external" href="http://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-extras-optional-features-with-their-own-dependencies">extra requirements</a> sections to install, additionally to the
<a class="reference external" href="http://setuptools.readthedocs.io/en/latest/setuptools.html#declaring-dependencies">package default dependencies</a>. Only works if <code class="docutils literal"><span class="pre">python.pip_install</span></code> option
above is set to <code class="docutils literal"><span class="pre">True</span></code>.</p>
<p>Let&#8217;s say your Python package has a <code class="docutils literal"><span class="pre">setup.py</span></code> which looks like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">setuptools</span> <span class="kn">import</span> <span class="n">setup</span>

<span class="n">setup</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s">&quot;my_package&quot;</span><span class="p">,</span>
    <span class="c"># (...)</span>
    <span class="n">install_requires</span><span class="o">=</span><span class="p">[</span>
        <span class="s">&#39;requests&#39;</span><span class="p">,</span>
        <span class="s">&#39;simplejson&#39;</span><span class="p">],</span>
    <span class="n">extras_require</span><span class="o">=</span><span class="p">{</span>
        <span class="s">&#39;tests&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s">&#39;nose&#39;</span><span class="p">,</span>
            <span class="s">&#39;pycodestyle &gt;= 2.1.0&#39;</span><span class="p">],</span>
        <span class="s">&#39;docs&#39;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s">&#39;sphinx &gt;= 1.4&#39;</span><span class="p">,</span>
            <span class="s">&#39;sphinx_rtd_theme&#39;</span><span class="p">]}</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Then to have all dependencies from the <code class="docutils literal"><span class="pre">tests</span></code> and <code class="docutils literal"><span class="pre">docs</span></code> sections
installed in addition to the default <code class="docutils literal"><span class="pre">requests</span></code> and <code class="docutils literal"><span class="pre">simplejson</span></code>, use the
<code class="docutils literal"><span class="pre">extra_requirements</span></code> as such:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">python</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">extra_requirements</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">tests</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">docs</span>
</pre></div>
</div>
<p>Behind the scene the following Pip command will be run:</p>
<div class="highlight-shell"><div class="highlight"><pre><span class="nv">$ </span>pip install -e .<span class="o">[</span>tests,docs<span class="o">]</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<span id="document-guides/index"></span><div class="section" id="guides">
<h2>Guides<a class="headerlink" href="#guides" title="Permalink to this headline">¶</a></h2>
<p>These guides will help walk you through the usage of Read the Docs.</p>
<div class="toctree-wrapper compound">
<span id="document-guides/build-notifications"></span><div class="section" id="enabling-build-notifications">
<h3>Enabling Build Notifications<a class="headerlink" href="#enabling-build-notifications" title="Permalink to this headline">¶</a></h3>
<p>Read the Docs allows you to configure emails that can be sent on failing builds.
This makes sure you know when your builds have failed.</p>
<p>Take these steps to enable build notifications:</p>
<ul class="simple">
<li>Going to <strong>Admin &gt; Notifications</strong> in your project.</li>
<li>Fill in the <strong>Email</strong> field under the <strong>New Email Notifications</strong> heading</li>
<li>Submit the form</li>
</ul>
<p>You should now get notified when your builds fail!</p>
</div>
<span id="document-guides/google-analytics"></span><div class="section" id="enabling-google-analytics-on-your-project">
<h3>Enabling Google Analytics on your Project<a class="headerlink" href="#enabling-google-analytics-on-your-project" title="Permalink to this headline">¶</a></h3>
<p>Read the Docs has native support for Google Analytics.
You can enable it by:</p>
<ul class="simple">
<li>Going to <strong>Admin &gt; Advanced Settings</strong> in your project.</li>
<li>Fill in the <strong>Analytics code</strong> heading with your Google Tracking ID (example <code class="xref py py-obj docutils literal"><span class="pre">UA-123456674-1</span></code>)</li>
</ul>
<p>Once your documentation rebuilds it will include your Analytics tracking code and start sending data.
Google Analytics usually takes 60 minutes,
and sometimes can take up to a day before it starts reporting data.</p>
</div>
</div>
</div>
</div>
<div class="toctree-wrapper compound" id="about-read-the-docs">
<span id="about-docs"></span><span id="document-contribute"></span><div class="section" id="contributing-to-read-the-docs">
<span id="id1"></span><h2>Contributing to Read the Docs<a class="headerlink" href="#contributing-to-read-the-docs" title="Permalink to this headline">¶</a></h2>
<p>You are here to help on Read the Docs? Awesome, feel welcome and read the
following sections in order to know what and how to work on something. If you
get stuck at any point you can create a <a class="reference external" href="https://github.com/rtfd/readthedocs.org/issues">ticket on GitHub</a>.</p>
<div class="section" id="contributing-to-development">
<h3>Contributing to development<a class="headerlink" href="#contributing-to-development" title="Permalink to this headline">¶</a></h3>
<p>If you want to deep dive and help out with development on Read the Docs, then
first get the project installed locally according to the
<a class="reference internal" href="index.html#installing-read-the-docs"><span>Installation Guide</span></a>. After that is done we
suggest you have a look at tickets in our issue tracker that are labelled <a class="reference external" href="https://github.com/rtfd/readthedocs.org/issues?q=is%3Aopen+is%3Aissue+label%3A%22Good+First+Bug%22">Good
First Bug</a>. These are meant to be a great way to get a smooth start and
won&#8217;t put you in front of the most complex parts of the system.</p>
<p>If you are up to more challenging tasks with a bigger scope, then there are a
set of tickets with a <a class="reference external" href="https://github.com/rtfd/readthedocs.org/issues?direction=desc&amp;labels=Feature+Overview&amp;page=1&amp;sort=updated&amp;state=open">Feature Overview</a> tag. These tickets have a general
overview and description of the work required to finish. If you want to start
somewhere, this would be a good place to start. That said, these aren&#8217;t
necessarily the easiest tickets. They are simply things that are explained. If
you still didn&#8217;t find something to work on, search for the <a class="reference external" href="https://github.com/rtfd/readthedocs.org/issues?q=is%3Aopen+is%3Aissue+label%3ASprintable">Sprintable</a>
label. Those tickets are meant to be standalone and can be worked on ad-hoc.</p>
<p>When contributing code, then please follow the standard Contribution
Guidelines set forth at <a class="reference external" href="http://www.contribution-guide.org/#submitting-bugs">contribution-guide.org</a>.</p>
</div>
<div class="section" id="triaging-tickets">
<h3>Triaging tickets<a class="headerlink" href="#triaging-tickets" title="Permalink to this headline">¶</a></h3>
<p>Here is a brief explanation on how we triage incoming tickets to get a better
sense of what needs to be done on what end.</p>
<div class="section" id="initial-triage">
<h4>Initial triage<a class="headerlink" href="#initial-triage" title="Permalink to this headline">¶</a></h4>
<p>When sitting down to do some triaging work, we start with the <a class="reference external" href="https://github.com/rtfd/readthedocs.org/issues?q=is:issue+is:open+no:label">list of
untriaged tickets</a>. We consider all tickets that do not have a label as
untriaged. The first step is to categorize the ticket into one of the
following categories and either close the ticket or assign an appropriate
label. The reported issue …</p>
<dl class="docutils">
<dt>… is not valid</dt>
<dd><p class="first">If you think the ticket is invalid comment why you think it is invalid,
then close the ticket. Tickets might be invalid if they were already fixed
in the past or it was decided that the proposed feature will not be
implemented because it does not conform with the overall goal of Read the
Docs. Also if you happen to know that the problem was already reported,
label the ticket with <strong>Status: duplicate</strong>, reference the other ticket
that is already addressing the problem and close the duplicate.</p>
<p>Examples:</p>
<ul class="last simple">
<li><em>Builds fail when using matplotlib</em>:
If the described issue was already fixed, then explain and instruct to
re-trigger the build.</li>
<li><em>Provide way to upload arbitrary HTML files</em>:
It was already decided that Read the Docs is not a dull hosting platform
for HTML. So explain this and close the ticket.</li>
</ul>
</dd>
</dl>
<dl class="docutils" id="triage-not-enough-information">
<dt>… does not provide enough information</dt>
<dd><p class="first">Add the label <strong>Needed: more information</strong> if the reported issue does not
contain enough information to decide if it is valid or not and ask on the
ticket for the required information to go forward. We will re-triage all
tickets that have the label <strong>Needed: more information</strong> assigned. If the
original reporter left new information we can try to re-categorize the
ticket. If the reporter did not come back to provide more required
information after a long enough time, we will close the ticket (this will be
roughly about two weeks).</p>
<p>Examples:</p>
<ul class="last simple">
<li><em>My builds stopped working. Please help!</em>
Ask for a link to the build log and for which project is affected.</li>
</ul>
</dd>
<dt>… is a valid enhancement proposal</dt>
<dd><p class="first">If the ticket contains an enhancement proposal that aligns with the goals
of Read the Docs, then add the label <strong>Enhancement</strong>. If the proposal
seems valid but requires further discussion between core contributors
because there might be different possibilities on how to implement the
enhancement, then also add the label <strong>Needed: design decision</strong>.</p>
<p>Examples:</p>
<ul class="last simple">
<li><em>Improve documentation about MKdocs integration</em></li>
<li><em>Provide better integration with service XYZ</em></li>
<li><em>Refactor module X for better readability</em></li>
<li><em>Achieve world domination</em> (also needs the label <strong>Needed: design
decision</strong>)</li>
</ul>
</dd>
<dt>… is a valid problem within the code base:</dt>
<dd><p class="first">If it&#8217;s a valid bug, then add the label <strong>Bug</strong>. Try to reference related
issues if you come across any.</p>
<p>Examples:</p>
<ul class="last simple">
<li><em>Builds fail if conf.py contains non-ascii letters</em></li>
</ul>
</dd>
<dt>… is a currently valid problem with the infrastructure:</dt>
<dd><p class="first">Users might report about web server downtimes or that builds are not
triggered. If the ticket needs investigation on the servers, then add the
label <strong>Operations</strong>.</p>
<p>Examples:</p>
<ul class="last simple">
<li><em>Builds are not starting</em></li>
</ul>
</dd>
</dl>
<dl class="docutils" id="triage-support-tickets">
<dt>… is a question and needs answering:</dt>
<dd><p class="first">If the ticket contains a question about the Read the Docs platform or the
code, then add the label <strong>Support</strong>.</p>
<p>Examples:</p>
<ul class="last simple">
<li><em>My account was set inactive. Why?</em></li>
<li><em>How to use C modules with Sphinx autodoc?</em></li>
<li><em>Why are my builds failing?</em></li>
</ul>
</dd>
<dt>… requires a one-time action on the server:</dt>
<dd><p class="first">Tasks that require a one time action on the server should be assigned the
two labels <strong>Support</strong> and <strong>Operations</strong>.</p>
<p>Examples:</p>
<ul class="last simple">
<li><em>Please change my username</em></li>
<li><em>Please set me as owner of this abandoned project</em></li>
</ul>
</dd>
</dl>
<p>After we finished the initial triaging of new tickets, no ticket should be left
without a label.</p>
</div>
<div class="section" id="additional-labels-for-categorization">
<h4>Additional labels for categorization<a class="headerlink" href="#additional-labels-for-categorization" title="Permalink to this headline">¶</a></h4>
<p>Additionally to the labels already involved in the section above, we have a
few more at hand to further categorize issues.</p>
<dl class="docutils">
<dt><em>High Priority</em></dt>
<dd>If the issue is urgent, assign this label. In the best case also go forward to
resolve the ticket yourself as soon as possible.</dd>
<dt><em>Community Effort</em></dt>
<dd>There are many valuable ideas in the issue tracker for future enhancements
of Read the Docs. Unfortunately too many for the core developers to handle
all of them. Therefore we assign the <em>Community Effort</em> label on all the
issues that we see as valid for the project but that we currently do not
have the resources to work on. We encourage community members to work
on these tickets and to submit a pull request.</dd>
<dt><em>Good First Bug</em></dt>
<dd>This label marks tickets that are easy to get started with. The ticket
should be ideal for beginners to dive into the code base. Better is if the
fix for the issue only involves touching one part of the code.</dd>
<dt><em>Sprintable</em></dt>
<dd>Sprintable are all tickets that have the right amount of scope to be
handled during a sprint. They are very focused and encapsulated.</dd>
<dt><em>Feature Overview</em></dt>
<dd>If a feature is too big to be tackled in one ticket and should be split
up, then we have a feature overview ticket explaining the overarching
idea. Those tickets related to one feature should also be grouped by a
<a class="reference external" href="https://github.com/rtfd/readthedocs.org/milestones">milestone</a>.</dd>
</dl>
<p>For a full list of available labels and their meanings, see
<a class="reference internal" href="index.html#issue-label-overview"><span>Overview of issue labels</span></a>.</p>
</div>
<div class="section" id="helpful-links-for-triaging">
<h4>Helpful links for triaging<a class="headerlink" href="#helpful-links-for-triaging" title="Permalink to this headline">¶</a></h4>
<p>Here is a list of links for contributors that look for work:</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/rtfd/readthedocs.org/issues?q=is:issue+is:open+no:label">Untriaged tickets</a>:
Go and triage them!</li>
<li><a class="reference external" href="https://github.com/rtfd/readthedocs.org/issues?utf8=✓&amp;q=is:open+is:issue+label:&quot;Needed:+more+information&quot;">Tickets labelled with Needed: more information</a>:
Come back to these tickets once in a while and close those that did not get
any new information from the reporter. If new information is available, go
and re-triage the ticket.</li>
<li><a class="reference external" href="https://github.com/rtfd/readthedocs.org/issues?q=is:open+is:issue+label:Operations">Tickets labelled with Operations</a>:
These tickets are for contributors who have access to the servers.</li>
<li><a class="reference external" href="https://github.com/rtfd/readthedocs.org/issues?q=is:open+is:issue+label:Support">Tickets labelled with Support</a>:
Experienced contributors or community members with a broad knowledge about
the project should handle those.</li>
<li><a class="reference external" href="https://github.com/rtfd/readthedocs.org/issues?q=is:open+is:issue+label:&quot;Needed:+design+decision&quot;">Tickets labelled with Needed: design decision</a>:
Project leaders must take actions on these tickets. Otherwise no other
contributor can go forward on them.</li>
</ul>
</div>
</div>
<div class="section" id="helping-on-translations">
<h3>Helping on translations<a class="headerlink" href="#helping-on-translations" title="Permalink to this headline">¶</a></h3>
<p>If you wish to contribute translations, please do so on <a class="reference external" href="https://www.transifex.com/projects/p/readthedocs/">Transifex</a>.</p>
</div>
</div>
<span id="document-team"></span><div class="section" id="read-the-docs-team">
<h2>Read the Docs Team<a class="headerlink" href="#read-the-docs-team" title="Permalink to this headline">¶</a></h2>
<p>readthedocs.org is the largest open source documentation hosting service.
It&#8217;s provided as a free service to the open source community,
and is worked on by a community of volunteers that we&#8217;re hoping to expand!
We currently serve over 20,000,000 pageviews a month,
and we hope to maintain a reliable and stable hosting platform for years to come.</p>
<p>There are three major parts of this work:</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#support-team" id="id9">Support Team</a></li>
<li><a class="reference internal" href="#operations-team" id="id10">Operations Team</a></li>
<li><a class="reference internal" href="#development-team" id="id11">Development Team</a></li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You may notice that a number of names appear on multiple teams.
This is because we are lacking contributors.
So please be bold and contact us,
and we&#8217;ll get you sorted into the right team.</p>
</div>
<div class="section" id="support-team">
<h3><a class="toc-backref" href="#id9">Support Team</a><a class="headerlink" href="#support-team" title="Permalink to this headline">¶</a></h3>
<p>Read the Docs has thousands of users who depend on it everyday.
Every day at least one of them has an issue that needs to be addressed by a site admin.
This might include tasks like:</p>
<ul class="simple">
<li>Resetting a password</li>
<li>Asking for a project name to be released</li>
<li>Troubleshooting build errors</li>
</ul>
<div class="section" id="members">
<h4>Members<a class="headerlink" href="#members" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://github.com/ericholscher">Eric Holscher</a> (Pacific Time)</li>
<li><a class="reference external" href="https://github.com/agjohnson">Anthony Johnson</a> (Pacific Time)</li>
<li><a class="reference external" href="https://github.com/edunham">edunham</a></li>
<li>Your Name Here</li>
</ul>
<p>Feel free to ask any of us if you have questions or want to join!</p>
</div>
<div class="section" id="joining">
<h4>Joining<a class="headerlink" href="#joining" title="Permalink to this headline">¶</a></h4>
<p>The best place to start would be to start addressing some of the issues in our issue tracker.
We have our support policies quite well documented in our <a class="reference internal" href="index.html#document-contribute"><em>Contributing to Read the Docs</em></a>.
<strong>Be bold</strong>.
Start trying to reproduce issues that people have,
or talk to them to get more information.
After you get the hang of things,
we&#8217;ll happily give you the ability to tag and close issues by joining our Support Team.</p>
</div>
</div>
<div class="section" id="operations-team">
<h3><a class="toc-backref" href="#id10">Operations Team</a><a class="headerlink" href="#operations-team" title="Permalink to this headline">¶</a></h3>
<p>readthedocs.org is a service that millions of people depend on each month.
As part of operating the site,
we maintain a 24/7 on-call rotation.
This means that folks have to be available and have their phone in service.</p>
<div class="section" id="id1">
<h4>Members<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://github.com/ericholscher">Eric Holscher</a> (Pacific Time)</li>
<li><a class="reference external" href="https://github.com/agjohnson">Anthony Johnson</a> (Pacific Time)</li>
<li>Your Name Here</li>
</ul>
<p>Feel free to ask any of us if you have questions or want to join!</p>
</div>
<div class="section" id="id4">
<h4>Joining<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<p>We are always looking for more people to share the on-call responsibility.
If you are on-call for your job already,
we&#8217;d love to piggy back on that duty as well.</p>
<p>You can email us at <a class="reference external" href="mailto:dev&#37;&#52;&#48;readthedocs&#46;org">dev<span>&#64;</span>readthedocs<span>&#46;</span>org</a> if you want to join our operations team.
Because of the sensitive nature (API tokens, secret keys, SSL certs, etc.) of the work,
we keep a private GitHub repository with the operations code &amp; documentation.</p>
<p>The tools that we use are:</p>
<ul class="simple">
<li>Salt</li>
<li>Nagios</li>
<li>Graphite/Grafana</li>
<li>Nginx</li>
<li>Postgres</li>
<li>Django</li>
<li>Celery</li>
</ul>
<p>It&#8217;s fine if you aren&#8217;t familiar with all of these things,
but are willing to help with part of it!</p>
<p><strong>Please reach out if you want to share the on-call responsibility</strong>.
It really is an important job,
and we&#8217;d love to have it be more geographically distributed.</p>
</div>
</div>
<div class="section" id="development-team">
<h3><a class="toc-backref" href="#id11">Development Team</a><a class="headerlink" href="#development-team" title="Permalink to this headline">¶</a></h3>
<p>Also known as the &#8220;Core Team&#8221; in other projects.
These folks have the ability to commit code to the project.</p>
<div class="section" id="id5">
<h4>Members<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><a class="reference external" href="https://github.com/ericholscher">Eric Holscher</a></li>
<li><a class="reference external" href="https://github.com/agjohnson">Anthony Johnson</a></li>
<li><a class="reference external" href="https://github.com/gregmuellegger">Gregor Müllegger</a></li>
<li><a class="reference external" href="https://github.com/jodal">Stein Magnus Jodal</a></li>
<li>Your Name Here</li>
</ul>
<p>Feel free to ask any of us if you have questions or want to join!</p>
</div>
<div class="section" id="id8">
<h4>Joining<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<p>We try to be pretty flexible with who we allow on the development team.
The best path is to send a few pull requests,
and follow up to make sure they get merged successfully.
You can check out our <a class="reference internal" href="index.html#document-contribute"><em>Contributing to Read the Docs</em></a> to get more information,
and find issues that need to be addressed.
After that,
feel free to ask for a commit bit.</p>
</div>
</div>
</div>
<span id="document-team-cdforward"></span><div class="section" id="id1">
<h2>我们<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>RTD 有许多不完善和不适用的地方,我们进行了一些改造,包括 <code class="xref py py-obj docutils literal"><span class="pre">翻译</span></code> 、 <code class="xref py py-obj docutils literal"><span class="pre">离线</span></code> 甚至包含 <code class="xref py py-obj docutils literal"><span class="pre">源码修改</span></code> 来适应本地的环境.</p>
<p>如果你对此项目有兴趣,可以从SVN获取源代码进行查看和变更.</p>
<div class="section" id="id2">
<h3>参与人员<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="http://www.scmud.com">母东</a> (翻译和修改)</li>
<li><a class="reference external" href="https://github.com/agjohnson">向涛</a> (部署、翻译和修改)</li>
<li>...</li>
</ul>
</div>
</div>
<span id="document-ethical-advertising"></span><div class="section" id="ethical-advertising">
<h2>Ethical Advertising<a class="headerlink" href="#ethical-advertising" title="Permalink to this headline">¶</a></h2>
<p>Read the Docs is a large,
free web service.
There is one proven business model to support this kind of site:
Advertising.
We&#8217;re building an advertising model that respects users while providing value to advertisers.</p>
<p>We talk a bit <a class="reference internal" href="#ethical-info"><span>below</span></a> about our worldview on advertising.</p>
<p>If you&#8217;re a marketer,
we have <a class="reference internal" href="#ethical-buy-ads"><span>information</span></a> on how to get in touch with us about running ads.</p>
<div class="section" id="our-worldview">
<span id="ethical-info"></span><h3>Our worldview<a class="headerlink" href="#our-worldview" title="Permalink to this headline">¶</a></h3>
<p>We&#8217;re building the advertising model we want to exist:</p>
<ul class="simple">
<li>We don&#8217;t track you</li>
<li>We don&#8217;t sell your data</li>
<li>We host everything ourselves, no third-party scripts</li>
</ul>
<p>We&#8217;re doing newspaper advertising,
on the internet.
For a hundred years,
newspapers put an ad on the page,
some folks would see it,
and advertisers would pay for this.
This is our model.</p>
<p>So much ad tech has been built to track users.
Following them across them web,
from site to site,
showing the same ads and gathering data about them.
Then retailers sell your purchase data to try and attribute sales to advertising.
Now there is an industry in doing <a class="reference external" href="https://en.wikipedia.org/wiki/Click_fraud">fake ad clicks</a> and other scams,
which leads the ad industry to track you even more intrusively to know more about you.
The current advertising industry is a vicious downward spiral.</p>
<p>As developers,
we understand the <a class="reference external" href="http://idlewords.com/talks/what_happens_next_will_amaze_you.htm">massive downsides</a> of the current advertising industry.
From malware,
slow site performance,
and huge databases of your personal data being sold to the highest bidder.</p>
<p>The trend in advertising is to have larger and larger ads.
They should run before your content,
they should take over the page,
the bigger, weirder, or flashier the better.</p>
<p><strong>We opt out.</strong></p>
<p>We don&#8217;t store personal information about you.
We only keep track of views and clicks.
We don&#8217;t build a profile of your personality to sell ads against.
We only show high quality ads from companies that are of interest to developers.</p>
<p>We are running a single,
small,
unobtrusive ad on documentation pages.
The products should be interesting to you.
The ads won&#8217;t flash or move.</p>
<p>We run the ads we want to have on our site,
in a way that makes us feel good.</p>
</div>
<div class="section" id="join-us">
<h3>Join us<a class="headerlink" href="#join-us" title="Permalink to this headline">¶</a></h3>
<p>We&#8217;re building the advertising model we want to exist.
We hope that others will join us in this mission:</p>
<ul class="simple">
<li><strong>If you&#8217;re a developer</strong>,
talk to your marketing people about using advertising that respects your privacy.</li>
<li><strong>If you&#8217;re a marketer</strong>,
vote with your dollars and support us in building the ad model we want to exist.</li>
</ul>
</div>
<div class="section" id="advertise-with-us">
<span id="ethical-buy-ads"></span><h3>Advertise with us<a class="headerlink" href="#advertise-with-us" title="Permalink to this headline">¶</a></h3>
<p>If you like our vision,
let&#8217;s work together to get your ad in front of the Read the Docs audience.
We have over 5 million developers reading documentation each month,
and provide a valuable service to the open source community.</p>
<p><strong>We only work with people who sell products that would be of interest to our audience of programmers and users of open source.</strong></p>
<p>Fill out your information and we&#8217;ll get in touch.</p>
<style type="text/css">
form.advertising {
    margin: 1.5em 0em;
    padding: 1.5em 0em;
    border-top: 1px solid rgba(0,0,0,.1);
}
form.advertising input {
    display: block;
    margin: 1em 0em;
}
</style>
<form action="https://formspree.io/rev@readthedocs.org" method="POST" class="advertising">
    <label>Your name</label>
    <input type="text" name="name" size=50 />
    <label>Your work email</label>
    <input type="email" name="_replyto" size=40 />
    <label>What is your job?</label>
    <input type="text" name="job" size=50 />
    <input type="submit" value="Send" class="btn" />

    <input type="hidden" name="_subject" value="Read the Docs Advertising Inquiry" />
    <input type="hidden" name="_next" value="//docs.readthedocs.io/en/latest/sponsors.html" />
    <input type="text" name="_gotcha" style="display:none" />
</form></div>
</div>
<span id="document-sponsors"></span><div class="section" id="sponsors-of-read-the-docs">
<h2>Sponsors of Read the Docs<a class="headerlink" href="#sponsors-of-read-the-docs" title="Permalink to this headline">¶</a></h2>
<p>Running Read the Docs isn&#8217;t free, and the site wouldn&#8217;t be where it is today
without generous support of our sponsors. Below is a list of all the folks who
have helped the site financially, in order of the date they first started
supporting us.</p>
<div class="section" id="current-sponsors">
<h3>Current sponsors<a class="headerlink" href="#current-sponsors" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="http://www.rackspace.com/">Rackspace</a> - They cover all of our hosting expenses every month.  This is a pretty large sum of money, averaging around $3,000/mo, and we are really grateful to have them as a sponsor.</li>
<li><a class="reference external" href="https://www.mozilla.org/en-US/">Mozilla</a> - Mozilla has given us a <a class="reference external" href="https://blog.readthedocs.com/rtd-awarded-mozilla-open-source-support-grant/">MOSS grant</a> for building specific features, and have funded Eric Holscher to work on Read the Docs at $1,000/mo for 2016.</li>
<li>You? (Email us at <a class="reference external" href="mailto:rev&#37;&#52;&#48;readthedocs&#46;org">rev<span>&#64;</span>readthedocs<span>&#46;</span>org</a> for more info)</li>
</ul>
</div>
<div class="section" id="past-sponsors">
<h3>Past sponsors<a class="headerlink" href="#past-sponsors" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="http://python.org/psf/">Python Software Foundation</a></li>
<li><a class="reference external" href="http://www.revsys.com/">Revsys</a></li>
<li><a class="reference external" href="http://blog.mozilla.com/webdev/">Mozilla Web Dev</a></li>
<li><a class="reference external" href="https://www.djangoproject.com/foundation/">Django Software Foundation</a></li>
<li><a class="reference external" href="http://www.lab305.com/">Lab305</a></li>
<li><a class="reference external" href="http://twilio.com/">Twilio</a></li>
</ul>
</div>
<div class="section" id="sponsorship-information">
<h3>Sponsorship Information<a class="headerlink" href="#sponsorship-information" title="Permalink to this headline">¶</a></h3>
<p>As part of increasing sustainability,
Read the Docs is testing out promoting sponsors on documentation pages.
We have more information about this in our <a class="reference external" href="https://blog.readthedocs.com/ads-on-read-the-docs/">blog post</a> about this effort.</p>
<div class="section" id="sponsor-us">
<h4>Sponsor Us<a class="headerlink" href="#sponsor-us" title="Permalink to this headline">¶</a></h4>
<p>Contact us at <a class="reference external" href="mailto:rev&#37;&#52;&#48;readthedocs&#46;org">rev<span>&#64;</span>readthedocs<span>&#46;</span>org</a> for more information on sponsoring Read the Docs.</p>
</div>
</div>
</div>
<span id="document-open-source-philosophy"></span><div class="section" id="read-the-docs-open-source-philosophy">
<h2>Read the Docs Open Source Philosophy<a class="headerlink" href="#read-the-docs-open-source-philosophy" title="Permalink to this headline">¶</a></h2>
<p>Read the Docs is Open Source software.
We have <a class="reference external" href="https://github.com/rtfd/readthedocs.org/blob/master/LICENSE.mit">licensed</a> the code base as MIT,
which provides almost no restrictions on the use of the code.</p>
<p>However,
as a project there are things that we care about more than others.
We built Read the Docs to support documentation in the Open Source community.
The code is open for people to contribute to,
so that they may build features into <a class="reference external" href="https://readthedocs.org">https://readthedocs.org</a> that they want.
We also believe having the code be open is a valuable learning tool,
for people to see how a real large website is created.</p>
<div class="section" id="official-support">
<h3>Official Support<a class="headerlink" href="#official-support" title="Permalink to this headline">¶</a></h3>
<p>The time of the core developers of Read the Docs is limited.
We provide official support for the following things:</p>
<ul class="simple">
<li>Local development on the Python code base</li>
<li>Usage of <a class="reference external" href="https://readthedocs.org">https://readthedocs.org</a> for Open Source projects</li>
<li>Bug fixes in the code base, as it applies to running it on <a class="reference external" href="https://readthedocs.org">https://readthedocs.org</a></li>
</ul>
</div>
<div class="section" id="unsupported">
<h3>Unsupported<a class="headerlink" href="#unsupported" title="Permalink to this headline">¶</a></h3>
<p>There are use cases that we don&#8217;t support,
because it doesn&#8217;t further our goal of promoting documentation in the Open Source Community.</p>
<p>We do not support:</p>
<ul class="simple">
<li>Specific usage of Sphinx and Mkdocs, that don&#8217;t affect our hosting</li>
<li>Custom installations of Read the Docs at your company</li>
<li>Installation of Read the Docs on other platforms</li>
<li>Any installation issues outside of the Read the Docs Python Code</li>
</ul>
</div>
<div class="section" id="rationale">
<h3>Rationale<a class="headerlink" href="#rationale" title="Permalink to this headline">¶</a></h3>
<p>Read the Docs was founded to improve documentation in the Open Source Community.
We fully recognize and allow the code to be used for internal installs at companies,
but we will not spend our time supporting it.
Our time is limited,
and we want to spend it on the mission that we set out to originally support.</p>
<p>If you feel strongly about installing Read the Docs internal to a company,
we will happily link to third party resources on this topic.
Please open an issue with a proposal if you want to take on this task.</p>
</div>
</div>
</div>
<div class="toctree-wrapper compound" id="feature-documentation">
<span id="feature-docs"></span><span id="document-webhooks"></span><div class="section" id="webhooks">
<h2>Webhooks<a class="headerlink" href="#webhooks" title="Permalink to this headline">¶</a></h2>
<p>Webhooks are pretty amazing, and help to turn the web into a push instead of
pull platform. We have support for hitting a URL whenever you commit to your
project and we will try and rebuild your docs. This only rebuilds them if
something has changed, so it is cheap on the server side. As anyone who has
worked with push knows, pushing a doc update to your repo and watching it get
updated within seconds is an awesome feeling.</p>
<div class="section" id="github">
<h3>GitHub<a class="headerlink" href="#github" title="Permalink to this headline">¶</a></h3>
<p>If your project is hosted on GitHub, you can easily add a hook that will rebuild
your docs whenever you push updates:</p>
<ul class="simple">
<li>Go to the &#8220;Settings&#8221; page for your project</li>
<li>Click &#8220;Webhooks &amp; Services&#8221;</li>
<li>In the &#8220;Services&#8221; section, click &#8220;Add service&#8221;</li>
<li>In the list of available services, click &#8220;ReadTheDocs&#8221;</li>
<li>Check &#8220;Active&#8221;</li>
<li>Click &#8220;Add service&#8221;</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The GitHub URL in your Read the Docs project must match the URL on GitHub. The URL is case-sensitive.</p>
</div>
<p>If you ever need to manually set the webhook on GitHub,
you can point it at <code class="docutils literal"><span class="pre">https://readthedocs.org/github</span></code>.</p>
</div>
<div class="section" id="bitbucket">
<h3>Bitbucket<a class="headerlink" href="#bitbucket" title="Permalink to this headline">¶</a></h3>
<p>If your project is hosted on Bitbucket, you can easily add a hook that will rebuild
your docs whenever you push updates:</p>
<ul class="simple">
<li>Go to the &#8220;admin&#8221; page for your project</li>
<li>Click &#8220;Services&#8221;</li>
<li>In the available service hooks, select &#8220;Read the Docs&#8221;</li>
<li>Click &#8220;Add service&#8221;</li>
</ul>
<p>If you ever need to manually set the webhook on Bitbucket,
you can point it at <code class="docutils literal"><span class="pre">https://readthedocs.org/bitbucket</span></code>.</p>
</div>
<div class="section" id="others">
<h3>Others<a class="headerlink" href="#others" title="Permalink to this headline">¶</a></h3>
<p>Your ReadTheDocs project detail page has your post-commit hook on it; it will
look something along the lines of <code class="docutils literal"><span class="pre">http://readthedocs.org/build/&lt;project_name&gt;</span></code>.
Regardless of which revision control system you use, you can just hit this URL
to kick off a rebuild.</p>
<p>You could make this part of a hook using <a class="reference external" href="http://www.kernel.org/pub/software/scm/git/docs/githooks.html">Git</a>, <a class="reference external" href="http://mikewest.org/2006/06/subversion-post-commit-hooks-101">Subversion</a>, <a class="reference external" href="http://hgbook.red-bean.com/read/handling-repository-events-with-hooks.html">Mercurial</a>, or
<a class="reference external" href="http://wiki.bazaar.canonical.com/BzrHooks">Bazaar</a>, perhaps through a simple script that accesses the build URL using
<code class="docutils literal"><span class="pre">wget</span></code> or <code class="docutils literal"><span class="pre">curl</span></code>.</p>
</div>
</div>
<span id="document-badges"></span><div class="section" id="badges">
<h2>Badges<a class="headerlink" href="#badges" title="Permalink to this headline">¶</a></h2>
<p>Badges let you show the state of your documentation to your users.
They are great for embedding in your README,
or putting inside your actual doc pages.</p>
<div class="section" id="status-badges">
<h3>Status Badges<a class="headerlink" href="#status-badges" title="Permalink to this headline">¶</a></h3>
<p>They will display in green for passing,
red for failing,
and yellow for unknown states.</p>
<p>Here are a few examples:</p>
<p><img alt="green" src="https://img.shields.io/badge/docs-latest-brightgreen.svg?style=flat" />&nbsp;<img alt="red" src="https://img.shields.io/badge/docs-release--1.6-red.svg?style=flat" />&nbsp;<img alt="yellow" src="https://img.shields.io/badge/docs-no%20builds-yellow.svg?style=flat" /></p>
<p>You can see it in action in the <a class="reference external" href="https://github.com/rtfd/readthedocs.org/blob/master/README.rst">Read the Docs README</a>.
They will link back to your project&#8217;s documentation page on Read the Docs.</p>
</div>
<div class="section" id="project-pages">
<h3>Project Pages<a class="headerlink" href="#project-pages" title="Permalink to this headline">¶</a></h3>
<p>You will now see badges embedded in your <a class="reference external" href="https://readthedocs.org/projects/pip/">project page</a>.
The default badge will be pointed at the <em>default version</em> you have specified for your project.
The badge URLs look like this:</p>
<div class="highlight-python"><div class="highlight"><pre>https://readthedocs.org/projects/pip/badge/?version=latest
</pre></div>
</div>
<p>You can replace the version argument with any version that you want to show a badge for.
If you click on the badge icon,
you will be given snippets for RST, Markdown, and HTML;
to make embedding it easier.</p>
<p>If you leave the version argument off,
it will default to your latest version.
This is probably best to include in your README,
since it will stay up to date with your Read the Docs project:</p>
<div class="highlight-python"><div class="highlight"><pre>https://readthedocs.org/projects/pip/badge/
</pre></div>
</div>
</div>
<div class="section" id="style">
<h3>Style<a class="headerlink" href="#style" title="Permalink to this headline">¶</a></h3>
<p>If you pass the <code class="docutils literal"><span class="pre">style</span></code> GET argument,
we will pass it along to shields.io as is.
This will allow you to have custom style badges.</p>
</div>
</div>
<span id="document-alternate_domains"></span><div class="section" id="alternate-domains">
<h2>Alternate Domains<a class="headerlink" href="#alternate-domains" title="Permalink to this headline">¶</a></h2>
<p>Read the Docs supports a number of custom domains for your convenience. Shorter urls make everyone happy, and we like making people happy!</p>
<div class="section" id="subdomain-support">
<h3>Subdomain Support<a class="headerlink" href="#subdomain-support" title="Permalink to this headline">¶</a></h3>
<p>Every project has a subdomain that is available to serve its documentation. If you go to &lt;slug&gt;.readthedocs.io, it should show you the latest version of documentation. A good example is <a class="reference external" href="http://pip.readthedocs.io">http://pip.readthedocs.io</a></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you have an old project that has an underscore (_) in the name, it will use a subdomain with a hyphen (-).
<a class="reference external" href="http://tools.ietf.org/html/rfc1035">RFC 1035</a> has more information on valid subdomains.</p>
</div>
</div>
<div class="section" id="cname-support">
<h3>CNAME Support<a class="headerlink" href="#cname-support" title="Permalink to this headline">¶</a></h3>
<p>If you have your own domain, you can still host with us.
This requires two steps:</p>
<ul class="simple">
<li>Add a CNAME record in your DNS that point to our servers <code class="xref py py-obj docutils literal"><span class="pre">readthedocs.io</span></code></li>
<li>Add a Domain object in the <strong>Project Admin &gt; Domains</strong> page for your project.</li>
</ul>
<p>Using pip as an example, <a class="reference external" href="http://www.pip-installer.org">http://www.pip-installer.org</a> resolves, but is hosted on our infrastructure.</p>
<p>As an example, fabric&#8217;s dig record looks like this:</p>
<div class="highlight-python"><div class="highlight"><pre>-&gt; dig docs.fabfile.org
...
;; ANSWER SECTION:
docs.fabfile.org.   7200    IN  CNAME   readthedocs.io.
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">We used to map your projects documentation from the subdomain that you pointed your CNAME to.
This wasn&#8217;t workable at scale,
and now we require you to set the domain you want to resolve on your project.</p>
</div>
</div>
<div class="section" id="cname-ssl">
<h3>CNAME SSL<a class="headerlink" href="#cname-ssl" title="Permalink to this headline">¶</a></h3>
<p>We don&#8217;t support SSL for CNAMEs on our side,
but you can enable support if you have your own server.
SSL requires having a secret key,
and if we hosted the key for you,
it would no longer be secret.</p>
<p>To enable SSL:</p>
<ul class="simple">
<li>Have a server listening on 443 that you control</li>
<li>Add a domain that you wish to point at Read the Docs</li>
<li>Enable proxying to us, with a custom <code class="docutils literal"><span class="pre">X-RTD-SLUG</span></code> header</li>
</ul>
<p>An example nginx configuration for pip would look like:</p>
<div class="highlight-nginx"><div class="highlight"><pre> <span class="k">server</span> <span class="p">{</span>
     <span class="kn">server_name</span> <span class="s">docs.pip-installer.org</span><span class="p">;</span>
     <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
         <span class="kn">proxy_pass</span> <span class="s">https://pip.readthedocs.io:443</span><span class="p">;</span>
         <span class="kn">proxy_set_header</span> <span class="s">Host</span> <span class="nv">$http_host</span><span class="p">;</span>
         <span class="kn">proxy_set_header</span> <span class="s">X-Forwarded-Proto</span> <span class="s">https</span><span class="p">;</span>
         <span class="kn">proxy_set_header</span> <span class="s">X-Real-IP</span> <span class="nv">$remote_addr</span><span class="p">;</span>
         <span class="kn">proxy_set_header</span> <span class="s">X-Scheme</span> <span class="nv">$scheme</span><span class="p">;</span>
<span class="hll">         <span class="kn">proxy_set_header</span> <span class="s">X-RTD-SLUG</span> <span class="s">pip</span><span class="p">;</span>
</span>         <span class="kn">proxy_connect_timeout</span> <span class="s">10s</span><span class="p">;</span>
         <span class="kn">proxy_read_timeout</span> <span class="s">20s</span><span class="p">;</span>
     <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="rtfd-org">
<h3>rtfd.org<a class="headerlink" href="#rtfd-org" title="Permalink to this headline">¶</a></h3>
<p>You can also use <code class="xref py py-obj docutils literal"><span class="pre">rtfd.io</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">rtfd.org</span></code> for short URLs for Read the Docs. For example, <a class="reference external" href="http://pip.rtfd.io">http://pip.rtfd.io</a> redirects to its documentation page. Any use of <code class="xref py py-obj docutils literal"><span class="pre">rtfd.io</span></code> or <code class="xref py py-obj docutils literal"><span class="pre">rtfd.org</span></code> will simply be redirected to <code class="xref py py-obj docutils literal"><span class="pre">readthedocs.io</span></code>.</p>
</div>
</div>
<span id="document-localization"></span><div class="section" id="localization-of-documentation">
<span id="id1"></span><h2>Localization of Documentation<a class="headerlink" href="#localization-of-documentation" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This feature only applies to Sphinx documentation. We are working to bring it to our other documentation backends.</p>
</div>
<p>Read the Docs supports hosting your docs in multiple languages.
There are two different things that we support:</p>
<ul class="simple">
<li>A single project written in another language</li>
<li>A project with translations into multiple languages</li>
</ul>
<div class="section" id="single-project-in-another-language">
<h3>Single project in another language<a class="headerlink" href="#single-project-in-another-language" title="Permalink to this headline">¶</a></h3>
<p>It is easy to set the <em>Language</em> of your project.
On the project <em>Admin</em> page (or Import page),
simply select your desired <em>Language</em> from the dropdown.
This will tell Read the Docs that your project is in the language.
The language will be represented in the URL for you project.</p>
<p>For example,
a project that is in spanish will have a default URL of <code class="docutils literal"><span class="pre">/es/latest/</span></code> instead of <code class="docutils literal"><span class="pre">/en/latest/</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You must commit the <code class="docutils literal"><span class="pre">.po</span></code> files for Read the Docs to translate your documentation.</p>
</div>
</div>
<div class="section" id="project-with-multiple-translations">
<h3>Project with multiple translations<a class="headerlink" href="#project-with-multiple-translations" title="Permalink to this headline">¶</a></h3>
<p>This situation is a bit more complicated.
To support this,
you will have one parent project and a number of projects marked as translations of that parent.
Let&#8217;s use <code class="docutils literal"><span class="pre">phpmyadmin</span></code> as an example.</p>
<p>The main <code class="docutils literal"><span class="pre">phpmyadmin</span></code> project is the parent for all translations.
Then you must create a project for each translation,
for example <code class="docutils literal"><span class="pre">phpmyadmin-spanish</span></code>.
You will set the <em>Language</em> for <code class="docutils literal"><span class="pre">phpmyadmin-spanish</span></code> to <code class="docutils literal"><span class="pre">Spanish</span></code>.
In the parent projects <em>Translations</em> page,
you will say that <code class="docutils literal"><span class="pre">phpmyadmin-spanish</span></code> is a translation for your project.</p>
<p>This has the results of serving:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">phpmyadmin</span></code> at <code class="docutils literal"><span class="pre">http://phpmyadmin.readthedocs.io/en/latest/</span></code></li>
<li><code class="docutils literal"><span class="pre">phpmyadmin-spanish</span></code> at <code class="docutils literal"><span class="pre">http://phpmyadmin.readthedocs.io/es/latest/</span></code></li>
</ul>
<p>It also gets included in the Read the Docs flyout:</p>
<img alt="_images/translation_bar.png" src="_images/translation_bar.png" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The default language of any CNAME will be the language of the project the Domain object was set on. See <a class="reference internal" href="index.html#document-alternate_domains"><em>Alternate Domains</em></a> for more information.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can include multiple translations in the same repository,
but each project must specify the language to build for those docs.</p>
</div>
</div>
</div>
<span id="document-vcs"></span><div class="section" id="vcs-integration">
<h2>VCS Integration<a class="headerlink" href="#vcs-integration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="github">
<h3>GitHub<a class="headerlink" href="#github" title="Permalink to this headline">¶</a></h3>
<p>If you want to integrate GitHub editing into your own theme, the following variables are available in your custom templates:</p>
<ul class="simple">
<li>github_user - GitHub username</li>
<li>github_repo - GitHub repo name</li>
<li>github_version - GitHub blob</li>
<li>conf_py_path - Path in the checkout to the docs root</li>
<li>pagename - Sphinx variable representing the name of the page you&#8217;re on.</li>
<li>display_github</li>
</ul>
<p>It can be used like this:</p>
<div class="highlight-python"><div class="highlight"><pre>{% if display_github %}
  &lt;li&gt;&lt;a href=&quot;https://github.com/{{ github_user }}/{{ github_repo }}/blob/{{ github_version }}{{ conf_py_path }}{{ pagename }}.rst&quot;&gt;
    Show on GitHub&lt;/a&gt;&lt;/li&gt;
{% endif %}
</pre></div>
</div>
</div>
<div class="section" id="bitbucket">
<h3>Bitbucket<a class="headerlink" href="#bitbucket" title="Permalink to this headline">¶</a></h3>
<p>If you want to integrate Bitbucket editing into your own theme, the following variables are available in your custom templates:</p>
<ul class="simple">
<li>bitbucket_user - Bitbucket username</li>
<li>bitbucket_repo - Bitbucket repo name</li>
<li>bitbucket_version - BitBucket version</li>
<li>conf_py_path - Path in the checkout to the docs root</li>
<li>pagename - Sphinx variable representing the name of the page you&#8217;re on.</li>
<li>display_bitbucket</li>
</ul>
<p>It can be used like this:</p>
<div class="highlight-python"><div class="highlight"><pre>{% if display_bitbucket %}
  &lt;a href=&quot;https://bitbucket.org/{{ bitbucket_user }}/{{ bitbucket_repo }}/src/{{ bitbucket_version}}{{ conf_py_path }}{{ pagename }}.rst&#39;&quot; class=&quot;icon icon-bitbucket&quot;&gt; Edit on Bitbucket&lt;/a&gt;
{% endif %}
</pre></div>
</div>
</div>
</div>
<span id="document-conda"></span><div class="section" id="conda-support">
<h2>Conda Support<a class="headerlink" href="#conda-support" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This feature is in a beta state.
Please file an <a class="reference external" href="https://github.com/rtfd/readthedocs.org/issues">issue</a> if you find anything wrong.</p>
</div>
<p>Read the Docs supports Conda as an environment management tool,
along with Virtualenv.
Conda support is useful for people who depend on C libraries,
and need them installed when building their documentation.</p>
<p>This work was funded by <a class="reference external" href="https://www.clinicalgraphics.com/">Clinical Graphics</a> &#8211; many thanks for their support of Open Source.</p>
<div class="section" id="activating-conda">
<h3>Activating Conda<a class="headerlink" href="#activating-conda" title="Permalink to this headline">¶</a></h3>
<p>Conda Support is the first feature enabled with <a class="reference internal" href="index.html#document-yaml-config"><em>Read the Docs YAML Config</em></a>.
You can enable it by creating a <code class="xref py py-obj docutils literal"><span class="pre">readthedocs.yml</span></code> file in the root of your repository with the contents:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">conda</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">file</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">environment.yml</span>
</pre></div>
</div>
<p>This Conda environment will also have Sphinx and other build time dependencies installed.
It will use the same order of operations that we support currently:</p>
<ul class="simple">
<li>Environment Creation (<code class="docutils literal"><span class="pre">conda</span> <span class="pre">create</span></code>)</li>
<li>Dependency Installation (Sphinx)</li>
<li>User Package Installation (<code class="docutils literal"><span class="pre">conda</span> <span class="pre">env</span> <span class="pre">update</span></code>)</li>
</ul>
</div>
<div class="section" id="custom-installs">
<h3>Custom Installs<a class="headerlink" href="#custom-installs" title="Permalink to this headline">¶</a></h3>
<p>If you are running a custom installation of Read the Docs,
you will need the <code class="docutils literal"><span class="pre">conda</span></code> executable installed somewhere on your <code class="docutils literal"><span class="pre">PATH</span></code>.
Because of the way <code class="docutils literal"><span class="pre">conda</span></code> works,
we can&#8217;t safely install it as a normal dependency into the normal Python virtualenv.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Installing conda into a virtualenv will override the <code class="docutils literal"><span class="pre">activate</span></code> script,
making it so you can&#8217;t properly activate that virtualenv anymore.</p>
</div>
</div>
</div>
<span id="document-canonical"></span><div class="section" id="canonical-urls">
<h2>Canonical URLs<a class="headerlink" href="#canonical-urls" title="Permalink to this headline">¶</a></h2>
<p>Canonical URLs allow people to have consistent page URLs for domains.
This is mainly useful for search engines,
so that they can send people to the correct page.</p>
<p>Read the Docs uses these in two ways:</p>
<ul class="simple">
<li>We point all versions of your docs at the &#8220;latest&#8221; version as canonical</li>
<li>We point at the user specified canonical URL, generally a custom domain for your docs.</li>
</ul>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<p>Fabric hosts their docs on Read the Docs.
They mostly use their own domain for them <code class="docutils literal"><span class="pre">http://docs.fabfile.org</span></code>.
This means that Google will index both <code class="docutils literal"><span class="pre">http://fabric-docs.readthedocs.io</span></code> and <code class="docutils literal"><span class="pre">http://docs.fabfile.org</span></code> for their documentation.</p>
<p>Fabric will want to set <code class="docutils literal"><span class="pre">http://docs.fabfile.org</span></code> as their canonical URL.
This means that when Google indexes <code class="docutils literal"><span class="pre">http://fabric-docs.readthedocs.io</span></code>, it will know that it should really point at <code class="docutils literal"><span class="pre">http://docs.fabfile.org</span></code>.</p>
</div>
<div class="section" id="enabling">
<h3>Enabling<a class="headerlink" href="#enabling" title="Permalink to this headline">¶</a></h3>
<p>You can set the canonical URL for your project in the Project Admin page. Check your <code class="xref py py-obj docutils literal"><span class="pre">Domains</span></code> tab for the domains that we know about.</p>
</div>
<div class="section" id="implementation">
<h3>Implementation<a class="headerlink" href="#implementation" title="Permalink to this headline">¶</a></h3>
<p>If you look at the source code for documentation built after you set your canonical URL,
you should see a bit of HTML like this:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;canonical&quot;</span> <span class="na">href=</span><span class="s">&quot;http://pip.readthedocs.io/en/latest/installing.html&quot;</span><span class="nt">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="links">
<h3>Links<a class="headerlink" href="#links" title="Permalink to this headline">¶</a></h3>
<p>This is a good explanation of the usage of canonical URLs in search engines:</p>
<p><a class="reference external" href="http://www.mattcutts.com/blog/seo-advice-url-canonicalization/">http://www.mattcutts.com/blog/seo-advice-url-canonicalization/</a></p>
<p>This is a good explanation for why canonical pages are good for SEO:</p>
<p><a class="reference external" href="http://moz.com/blog/canonical-url-tag-the-most-important-advancement-in-seo-practices-since-sitemaps">http://moz.com/blog/canonical-url-tag-the-most-important-advancement-in-seo-practices-since-sitemaps</a></p>
</div>
</div>
<span id="document-single_version"></span><div class="section" id="single-version-documentation">
<h2>Single Version Documentation<a class="headerlink" href="#single-version-documentation" title="Permalink to this headline">¶</a></h2>
<p>Single Version Documentation lets you serve your docs at a root domain.
By default, all documentation served by Read the Docs has a root of <code class="docutils literal"><span class="pre">/&lt;language&gt;/&lt;version&gt;/</span></code>.
But, if you enable the &#8220;Single Version&#8221; option for a project, its documentation will instead be served at <code class="docutils literal"><span class="pre">/</span></code>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This means you can&#8217;t have translations or multiple versions for your documentation.</p>
</div>
<p>You can see a live example of this at <a class="reference external" href="http://www.contribution-guide.org">http://www.contribution-guide.org</a></p>
<div class="section" id="enabling">
<h3>Enabling<a class="headerlink" href="#enabling" title="Permalink to this headline">¶</a></h3>
<p>You can toggle the &#8220;Single Version&#8221; option on or off for your project in the Project Admin page. Check your <a class="reference external" href="https://readthedocs.org/dashboard/">dashboard</a> for a list of your projects.</p>
</div>
<div class="section" id="effects">
<h3>Effects<a class="headerlink" href="#effects" title="Permalink to this headline">¶</a></h3>
<p>Links generated on Read the Docs will now point to the proper URL. For example, if pip was set as a &#8220;Single Version&#8221; project, then links to its documentation would point to <code class="docutils literal"><span class="pre">http://pip.readthedocs.io/</span></code> rather than the default <code class="docutils literal"><span class="pre">http://pip.readthedocs.io/en/latest/</span></code>.</p>
<p>Documentation at <code class="docutils literal"><span class="pre">/&lt;language&gt;/&lt;default_version&gt;/</span></code> will still be served for backwards compatibility reasons. However, our usage of <a class="reference internal" href="index.html#document-canonical"><em>Canonical URLs</em></a> should stop these from being indexed by Google.</p>
</div>
</div>
<span id="document-privacy"></span><div class="section" id="privacy-levels">
<h2>Privacy Levels<a class="headerlink" href="#privacy-levels" title="Permalink to this headline">¶</a></h2>
<p>Read the Docs supports 3 different privacy levels on 2 different objects;
Public, Protected, Private on Projects and Versions.</p>
<div class="section" id="understanding-the-privacy-levels">
<h3>Understanding the Privacy Levels<a class="headerlink" href="#understanding-the-privacy-levels" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="19%" />
<col width="19%" />
<col width="22%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Level</th>
<th class="head">Detail</th>
<th class="head">Listing</th>
<th class="head">Search</th>
<th class="head">Viewing</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Private</td>
<td>No</td>
<td>No</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr class="row-odd"><td>Protected</td>
<td>Yes</td>
<td>No</td>
<td>No</td>
<td>Yes</td>
</tr>
<tr class="row-even"><td>Public</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">With a URL to view the actual documentation, even private docs are viewable.
This is because our architecture doesn&#8217;t do any logic on documentation display,
to increase availability.</p>
</div>
<div class="section" id="public">
<h4>Public<a class="headerlink" href="#public" title="Permalink to this headline">¶</a></h4>
<p>This is the easiest and most obvious. It is also the default.
It means that everything is available to be seen by everyone.</p>
</div>
<div class="section" id="protected">
<h4>Protected<a class="headerlink" href="#protected" title="Permalink to this headline">¶</a></h4>
<p>Protected means that your object won&#8217;t show up in Listing Pages,
but Detail pages still work. For example, a Project that is Protected will
not show on the homepage Recently Updated list, however,
if you link directly to the project, you will get a 200 and the page will display.</p>
<p>Protected Versions are similar, they won&#8217;t show up in your version listings,
but will be available once linked to.</p>
</div>
<div class="section" id="private">
<h4>Private<a class="headerlink" href="#private" title="Permalink to this headline">¶</a></h4>
<p>Private objects are available only to people who have permissions to see them.
They will not display on any list view, and will 404 when you link them to others.</p>
</div>
</div>
<div class="section" id="project-objects">
<h3>Project Objects<a class="headerlink" href="#project-objects" title="Permalink to this headline">¶</a></h3>
<div class="section" id="detail-views">
<h4>Detail Views<a class="headerlink" href="#detail-views" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><ul class="simple">
<li>Project Detail (/projects/&lt;slug&gt;)</li>
<li>API Detail (/api/v1/project/&lt;slug&gt;/)</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="list-views">
<h4>List Views<a class="headerlink" href="#list-views" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><ul class="simple">
<li>Home Page</li>
<li>All Projects Page</li>
<li>User Profile Page (/profiles/&lt;user&gt;/)</li>
<li>Search</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="version-objects">
<h3>Version Objects<a class="headerlink" href="#version-objects" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id1">
<h4>List Views<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><ul class="simple">
<li>Project Detail (/projects/&lt;slug&gt;)</li>
<li>Version Selector on Home page</li>
<li>Version Selector on Documentation page</li>
<li>Search</li>
</ul>
</div></blockquote>
</div>
</div>
</div>
<span id="document-user-defined-redirects"></span><div class="section" id="user-defined-redirects">
<h2>User-defined Redirects<a class="headerlink" href="#user-defined-redirects" title="Permalink to this headline">¶</a></h2>
<p>You can set up redirects for a project on the project&#8217;s Admin page.</p>
<div class="section" id="prefix-redirects">
<h3>Prefix Redirects<a class="headerlink" href="#prefix-redirects" title="Permalink to this headline">¶</a></h3>
<p>The most useful and requested feature of redirects was when migrating to Read the Docs from an old host.
You would have your docs served at a previous URL,
but that URL would break once you moved them.
Read the Docs includes a language and version slug in your documentation,
but not all documentation is hosted this way.</p>
<p>Say that you previously had your docs hosted at <code class="docutils literal"><span class="pre">http://docs.example.com/dev/</span></code>,
you move <code class="docutils literal"><span class="pre">docs.example.com</span></code> to point at Read the Docs.
So users will have a bookmark saved to a page at <code class="docutils literal"><span class="pre">http://docs.example.com/dev/install.html</span></code>.</p>
<p>You can now set a <em>Prefix Redirect</em> that will redirect all 404&#8217;s with a prefix to a new place.
The example configuration would be:</p>
<div class="highlight-python"><div class="highlight"><pre>Type: Prefix Redirect
From URL: /dev/
</pre></div>
</div>
<p>Your users query would now redirect in the following manner:</p>
<div class="highlight-python"><div class="highlight"><pre>docs.example.com/dev/install.html -&gt;
docs.example.com/en/latest/install.html
</pre></div>
</div>
<p>Where <code class="docutils literal"><span class="pre">en</span></code> and <code class="docutils literal"><span class="pre">latest</span></code> are the default language and version values for your project.</p>
</div>
<div class="section" id="page-redirects">
<h3>Page Redirects<a class="headerlink" href="#page-redirects" title="Permalink to this headline">¶</a></h3>
<p>A more specific case is when you move a page around in your docs.
The old page will start 404&#8217;ing,
and your users will be confused.
<em>Page Redirects</em> let you redirect a specific page.</p>
<p>Say you move the <code class="docutils literal"><span class="pre">example.html</span></code> page into a subdirectory of examples: <code class="docutils literal"><span class="pre">examples/intro.html</span></code>.
You would set the following configuration:</p>
<div class="highlight-python"><div class="highlight"><pre>Type: Page Redirect
From URL: /example.html
To URL: /examples/intro.html
</pre></div>
</div>
<p>Note that the <code class="docutils literal"><span class="pre">/</span></code> at the start doesn&#8217;t count the <code class="docutils literal"><span class="pre">/en/latest</span></code>,
but just the user-controlled section of the URL.</p>
</div>
<div class="section" id="exact-redirects">
<h3>Exact Redirects<a class="headerlink" href="#exact-redirects" title="Permalink to this headline">¶</a></h3>
<p>If you&#8217;re redirecting from an old host AND you aren&#8217;t maintaining old paths for your
documents, a Prefix Redirect won&#8217;t suffice and you&#8217;ll need to create <em>Exact Redirects</em>
to redirect from a specific URL, to a specific page.</p>
<p>Say you&#8217;re moving <code class="docutils literal"><span class="pre">docs.example.com</span></code> to Read the Docs and want to redirect traffic
from an old page at <code class="docutils literal"><span class="pre">http://docs.example.com/dev/install.html</span></code> to a new URL
of <code class="docutils literal"><span class="pre">http://docs.example.com/en/latest/installing-your-site.html</span></code>.</p>
<p>The example configuration would be:</p>
<div class="highlight-python"><div class="highlight"><pre>Type: Exact Redirect
From URL: /dev/install.html
To URL:   /en/latest/installing-your-site.html
</pre></div>
</div>
<p>Your users query would now redirect in the following manner:</p>
<div class="highlight-python"><div class="highlight"><pre>docs.example.com/dev/install.html -&gt;
docs.example.com/en/latest/installing-your-site.html
</pre></div>
</div>
<p>Note that you should insert the desired language for &#8220;en&#8221; and version for &#8220;latest&#8221; to
achieve the desired redirect.</p>
</div>
<div class="section" id="sphinx-redirects">
<h3>Sphinx Redirects<a class="headerlink" href="#sphinx-redirects" title="Permalink to this headline">¶</a></h3>
<p>We also support redirects for changing the type of documentation Sphinx is building.
If you switch between <em>HTMLDir</em> and <em>HTML</em>, your URL&#8217;s will change.
A page at <code class="docutils literal"><span class="pre">/en/latest/install.html</span></code> will be served at <code class="docutils literal"><span class="pre">/en/latest/install/</span></code>,
or vice versa.
The built in redirects for this will handle redirecting users appropriately.</p>
</div>
<div class="section" id="implementation">
<h3>Implementation<a class="headerlink" href="#implementation" title="Permalink to this headline">¶</a></h3>
<p>Since we serve documentation in a highly available way,
we do not run any logic when we&#8217;re serving documentation.
This means that redirects will only happen in the case of a <em>404 File Not Found</em>.</p>
<p>In the future we might implement redirect logic in Javascript,
but this first version is only implemented in the 404 handlers.</p>
<p>Feature Requests</p>
</div>
</div>
<span id="document-automatic-redirects"></span><div class="section" id="automatic-redirects">
<h2>Automatic Redirects<a class="headerlink" href="#automatic-redirects" title="Permalink to this headline">¶</a></h2>
<p>Read the Docs supports redirecting certain URLs automatically.
This is an overview of the set of redirects that are fully supported and will work into the future.</p>
<div class="section" id="root-url">
<h3>Root URL<a class="headerlink" href="#root-url" title="Permalink to this headline">¶</a></h3>
<p>A link to the root of your documentation will redirect to the <em>default version</em>,
as set in your project settings.
For example:</p>
<div class="highlight-python"><div class="highlight"><pre>pip.readthedocs.io -&gt; pip.readthedocs.io/en/latest/
www.pip-installer.org -&gt; www.pip-installer.org/en/latest
</pre></div>
</div>
<p>This only works for the root url, not for internal pages. It&#8217;s designed to redirect people from <a class="reference external" href="http://pip.readthedocs.io/">http://pip.readthedocs.io/</a> to the default version of your documentation, since serving up a 404 here would be a pretty terrible user experience. (If your &#8220;develop&#8221; branch was designated as your default version, then it would redirect to <a class="reference external" href="http://pip.readthedocs.io/en/develop">http://pip.readthedocs.io/en/develop</a>.) But, it&#8217;s not a universal redirecting solution. So, for example, a link to an internal page like <a class="reference external" href="http://pip.readthedocs.io/usage.html">http://pip.readthedocs.io/usage.html</a> doesn&#8217;t redirect to <a class="reference external" href="http://pip.readthedocs.io/en/latest/usage.html">http://pip.readthedocs.io/en/latest/usage.html</a>.</p>
<p>The reasoning behind this is that RTD organizes the URLs for docs so that multiple translations and multiple versions of your docs can be organized logically and consistently for all projects that RTD hosts. For the way that RTD views docs, <a class="reference external" href="http://pip.readthedocs.io/en/latest/">http://pip.readthedocs.io/en/latest/</a> is the root directory for your default documentation in English, not <a class="reference external" href="http://pip.readthedocs.io/">http://pip.readthedocs.io/</a>. Just like <a class="reference external" href="http://pip.readthedocs.io/en/develop/">http://pip.readthedocs.io/en/develop/</a> is the root for your development documentation in English.</p>
<p>Among all the multiple versions of docs, you can choose which is the &#8220;default&#8221; version for RTD to display, which usually corresponds to the git branch of the most recent official release from your project.</p>
<div class="section" id="rtfd-org">
<h4>rtfd.org<a class="headerlink" href="#rtfd-org" title="Permalink to this headline">¶</a></h4>
<p>Links to rtfd.org are treated the same way as above.
They redirect the root URL to the default version of the project.
They are intended to be easy and short for people to type.</p>
</div>
</div>
<div class="section" id="supported-top-level-redirects">
<h3>Supported Top-Level Redirects<a class="headerlink" href="#supported-top-level-redirects" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">These &#8220;implicit&#8221; redirects are supported for legacy reasons.
We will not be adding support for any more magic redirects.
If you want additional redirects,
they should live at a prefix like <a class="reference internal" href="#page-redirect"><span>Redirecting to a Page</span></a></p>
</div>
<p>The main challenge of URL routing in Read the Docs is handling redirects correctly. Both in the interest of redirecting older URLs that are now obsolete, and in the interest of handling &#8220;logical-looking&#8221; URLs (leaving out the lang_slug or version_slug shouldn&#8217;t result in a 404), the following redirects are supported:</p>
<div class="highlight-python"><div class="highlight"><pre>/          -&gt; /en/latest/
/en/       -&gt; /en/latest/
/latest/   -&gt; /en/latest/
</pre></div>
</div>
<p>The language redirect will work for any of the defined <code class="docutils literal"><span class="pre">LANGUAGE_CODES</span></code> we support.
The version redirect will work for supported versions.</p>
</div>
<div class="section" id="redirecting-to-a-page">
<span id="page-redirect"></span><h3>Redirecting to a Page<a class="headerlink" href="#redirecting-to-a-page" title="Permalink to this headline">¶</a></h3>
<p>You can link to a specific page and have it redirect to your default version.
This is done with the <code class="docutils literal"><span class="pre">/page/</span></code> URL.
For example:</p>
<div class="highlight-python"><div class="highlight"><pre>pip.readthedocs.io/page/quickstart.html -&gt; pip.readthedocs.io/en/latest/quickstart.html
www.pip-installer.org/page/quickstart.html -&gt; www.pip-installer.org/en/latest/quickstart.html
</pre></div>
</div>
<p>This allows you to create links that are always up to date.</p>
<p>Another way to handle this is the <em>latest</em> version.
You can set your <code class="docutils literal"><span class="pre">latest</span></code> version to a specific version and just always link to latest.</p>
</div>
</div>
<span id="document-features/embed"></span><div class="section" id="content-embedding">
<h2>Content Embedding<a class="headerlink" href="#content-embedding" title="Permalink to this headline">¶</a></h2>
<p>Using the <a class="reference external" href="https://github.com/agjohnson/readthedocs-client-js">Read the Docs JavaScript Client</a>, or with basic calls to our REST
API, you can retrieve embeddable content for use on your own site. Content is
embedded in an iframe element, primarily for isolation. To get example usage of
the API, see the tools tab under an active project and select the page and
section that you would like to test.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The client library is still alpha quality. This guide is still lacking
advanced usage of the library, and information on styling the iframe
content. We plan to have more usage outlined as the library matures.</p>
</div>
<p>Example usage of the client library:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">embed</span> <span class="o">=</span> <span class="nx">Embed</span><span class="p">();</span>
<span class="nx">embed</span><span class="p">.</span><span class="nx">section</span><span class="p">(</span>
    <span class="s1">&#39;read-the-docs&#39;</span><span class="p">,</span> <span class="s1">&#39;latest&#39;</span><span class="p">,</span> <span class="s1">&#39;features&#39;</span><span class="p">,</span> <span class="s1">&#39;Read the Docs features&#39;</span><span class="p">,</span>
    <span class="kd">function</span> <span class="p">(</span><span class="nx">section</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">section</span><span class="p">.</span><span class="nx">insertContent</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#help&#39;</span><span class="p">));</span>
    <span class="p">}</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="toctree-wrapper compound" id="developer-documentation">
<span id="dev-docs"></span><span id="document-install"></span><div class="section" id="installation">
<span id="installing-read-the-docs"></span><h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Here is a step by step plan on how to install Read the Docs.
It will get you to a point of having a local running instance.</p>
<p>First, obtain <a class="reference external" href="http://www.python.org/">Python 2.7</a> and <a class="reference external" href="http://pypi.python.org/pypi/virtualenv">virtualenv</a> if you do not already have them. Using a
virtual environment will make the installation easier, and will help to avoid
clutter in your system-wide libraries. You will also need <a class="reference external" href="http://git-scm.com/">Git</a> in order to
clone the repository. If you plan to import Python 3 project to your RTD then you&#8217;ll
need to install Python 3 with virtualenv in your system as well.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If you are having trouble on OS X Mavericks (or possibly other versions of
OS X) with building <code class="docutils literal"><span class="pre">lxml</span></code>, you probably might need to use <a class="reference external" href="http://brew.sh/">Homebrew</a>
to <code class="docutils literal"><span class="pre">brew</span> <span class="pre">install</span> <span class="pre">libxml2</span></code>, and invoke the install with:</p>
<div class="last highlight-python"><div class="highlight"><pre>CFLAGS=-I/usr/local/opt/libxml2/include/libxml2 \
LDFLAGS=-L/usr/local/opt/libxml2/lib \
pip install -r requirements.txt
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Linux users may find they need to install a few additional packages
in order to successfully execute <code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-r</span> <span class="pre">requirements.txt</span></code>.
For example, a clean install of Ubuntu 14.04 LTS will require the
following packages:</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get install build-essential
sudo apt-get install python-dev python-pip python-setuptools
sudo apt-get install libxml2-dev libxslt1-dev zlib1g-dev
</pre></div>
</div>
<p class="last">Users of other Linux distributions may need to install the equivalent
packages, depending on their system configuration.</p>
</div>
<p>You will need to verify that your pip version is higher than 1.5 you can do this as such:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pip</span> <span class="o">--</span><span class="n">version</span>
</pre></div>
</div>
<p>If this is not the case please update your pip version before continuing:</p>
<div class="highlight-python"><div class="highlight"><pre>pip install --upgrade pip
</pre></div>
</div>
<p>Once you have these, create a virtual environment somewhere on your disk, then
activate it:</p>
<div class="highlight-python"><div class="highlight"><pre>virtualenv rtd
cd rtd
source bin/activate
</pre></div>
</div>
<p>Create a folder in here, and clone the repository:</p>
<div class="highlight-python"><div class="highlight"><pre>mkdir checkouts
cd checkouts
git clone https://github.com/rtfd/readthedocs.org.git
</pre></div>
</div>
<p>Next, install the dependencies using <code class="docutils literal"><span class="pre">pip</span></code> (included inside of <a class="reference external" href="http://pypi.python.org/pypi/virtualenv">virtualenv</a>):</p>
<div class="highlight-python"><div class="highlight"><pre>cd readthedocs.org
pip install -r requirements.txt
</pre></div>
</div>
<p>This may take a while, so go grab a beverage. When it&#8217;s done, build your
database:</p>
<div class="highlight-python"><div class="highlight"><pre>python manage.py migrate
</pre></div>
</div>
<p>Then please create a superuser account for Django:</p>
<div class="highlight-python"><div class="highlight"><pre>python manage.py createsuperuser
</pre></div>
</div>
<p>Now let&#8217;s properly generate the static assets:</p>
<div class="highlight-python"><div class="highlight"><pre>python manage.py collectstatic
</pre></div>
</div>
<p>By now, it is the right time to load in a couple users and a test project:</p>
<div class="highlight-python"><div class="highlight"><pre>python manage.py loaddata test_data
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you do not opt to install test data, you&#8217;ll need to create an account for
API use and set <code class="docutils literal"><span class="pre">SLUMBER_USERNAME</span></code> and <code class="docutils literal"><span class="pre">SLUMBER_PASSWORD</span></code> in order for
everything to work properly.</p>
</div>
<p>Finally, you&#8217;re ready to start the webserver:</p>
<div class="highlight-python"><div class="highlight"><pre>python manage.py runserver
</pre></div>
</div>
<p>Visit <a class="reference external" href="http://127.0.0.1:8000/">http://127.0.0.1:8000/</a> in your browser to see how it looks; you can use
the admin interface via <a class="reference external" href="http://127.0.0.1:8000/admin">http://127.0.0.1:8000/admin</a> (logging in with the
superuser account you just created).</p>
<p>For builds to properly kick off as expected, it is necessary the port
you&#8217;re serving on (i.e. <code class="docutils literal"><span class="pre">runserver</span> <span class="pre">0.0.0.0:8080</span></code>) match the port defined
in <code class="docutils literal"><span class="pre">PRODUCTION_DOMAIN</span></code>. You can utilize <code class="docutils literal"><span class="pre">local_settings.py</span></code> to modify this.
(By default, it&#8217;s <code class="docutils literal"><span class="pre">localhost:8000</span></code>)</p>
<p>While the webserver is running, you can build documentation for the latest version of
a project called &#8216;pip&#8217; with the <code class="docutils literal"><span class="pre">update_repos</span></code> command.  You can replace &#8216;pip&#8217;
with the name of any added project:</p>
<div class="highlight-python"><div class="highlight"><pre>python manage.py update_repos pip
</pre></div>
</div>
<div class="section" id="what-s-available">
<h3>What&#8217;s available<a class="headerlink" href="#what-s-available" title="Permalink to this headline">¶</a></h3>
<p>After registering with the site (or creating yourself a superuser account),
you will be able to log in and view the <a class="reference external" href="http://readthedocs.org/dashboard/">dashboard</a>.</p>
<p>From the dashboard you can import your existing
docs provided that they are in a git or mercurial repo.</p>
<div class="section" id="creating-new-docs">
<h4>Creating new Docs<a class="headerlink" href="#creating-new-docs" title="Permalink to this headline">¶</a></h4>
<p>One of the goals of <a class="reference external" href="http://readthedocs.org">readthedocs.org</a> is to make it
easy for any open source developer to get high quality hosted docs with great
visibility!  We provide a simple editor and two sample pages whenever
a new project is created.  From there its up to you to fill in the gaps - we&#8217;ll
build the docs, give you access to history on every revision of your files,
and we plan on adding more features in the weeks and months to come.</p>
</div>
<div class="section" id="importing-existing-docs">
<h4>Importing existing docs<a class="headerlink" href="#importing-existing-docs" title="Permalink to this headline">¶</a></h4>
<p>The other side of <a class="reference external" href="http://readthedocs.org">readthedocs.org</a> is hosting the
docs you&#8217;ve already built.  Simply provide us with the clone url to your repo,
we&#8217;ll pull your code, extract your docs, and build them!  We make available
a post-commit webhook that can be configured to update the docs on our site
whenever you commit to your repo, effectively letting you &#8216;set it and forget it&#8217;.</p>
</div>
</div>
</div>
<span id="document-changelog"></span><div class="section" id="changelog">
<span id="changelog"></span><h2>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h2>
<p>This document will track major changes in the project.</p>
<p>Also note, this document is a Markdown file. This is mainly to keep parity with GitHub, and also because we can.</p>
<div class="section" id="july-23-2015">
<span id="july-23-2015"></span><h3>July 23, 2015<a class="headerlink" href="#july-23-2015" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Django 1.8 Support Merged</li>
</ul>
<div class="section" id="code-notes">
<span id="code-notes"></span><h4>Code Notes<a class="headerlink" href="#code-notes" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Updated Django from <code class="docutils literal"><span class="pre">1.6.11</span></code> to <code class="docutils literal"><span class="pre">1.8.3</span></code>.</li>
<li>Removed South and ported the South migrations to Django&#8217;s migration framework.</li>
<li>Updated django-celery from <code class="docutils literal"><span class="pre">3.0.23</span></code> to <code class="docutils literal"><span class="pre">3.1.26</span></code> as django-celery 3.0.x does not support Django 1.8.</li>
<li>Updated Celery from <code class="docutils literal"><span class="pre">3.0.24</span></code> to <code class="docutils literal"><span class="pre">3.1.18</span></code> because we had to update django-celery. We need to test this extensively and might need to think about using the new Celery API directly and dropping django-celery. See release notes: http://docs.celeryproject.org/en/latest/whatsnew-3.1.html</li>
<li>Updated tastypie from <code class="docutils literal"><span class="pre">0.11.1</span></code> to current master (commit <code class="docutils literal"><span class="pre">1e1aff3dd4dcd21669e9c68bd7681253b286b856</span></code>) as 0.11.x is not compatible with Django 1.8. No surprises expected but we should ask for a proper release, see release notes: https://github.com/django-tastypie/django-tastypie/blob/master/docs/release_notes/v0.12.0.rst</li>
<li>Updated django-oauth from <code class="docutils literal"><span class="pre">0.16.1</span></code> to <code class="docutils literal"><span class="pre">0.21.0</span></code>. No surprises expected, see release notes <a class="reference external" href="https://django-allauth.readthedocs.org/en/latest/changelog.html">in the docs</a> and <a class="reference external" href="https://github.com/pennersr/django-allauth/blob/9123223f167959e4e5c4074408db068f725559d1/ChangeLog#L1-169">finer grained in the repo</a></li>
<li>Updated django-guardian from <code class="docutils literal"><span class="pre">1.2.0</span></code> to <code class="docutils literal"><span class="pre">1.3.0</span></code> to gain Django 1.8 support. No surprises expected, see release notes: https://github.com/lukaszb/django-guardian/blob/devel/CHANGES</li>
<li>Using <code class="docutils literal"><span class="pre">django-formtools</span></code> instead of removed <code class="docutils literal"><span class="pre">django.contrib.formtools</span></code> now. Based on the Django release notes, these modules are the same except of the package name.</li>
<li>Updated pytest-django from <code class="docutils literal"><span class="pre">2.6.2</span></code> to <code class="docutils literal"><span class="pre">2.8.0</span></code>. No tests required, but running the testsuite :smile:</li>
<li>Updated psycopg2 from 2.4 to 2.4.6 as 2.4.5 is required by Django 1.8. No trouble expected as Django is the layer between us and psycopg2. Also it&#8217;s only a minor version upgrade. Release notes: http://initd.org/psycopg/docs/news.html#what-s-new-in-psycopg-2-4-6</li>
<li>Added <code class="docutils literal"><span class="pre">django.setup()</span></code> to <code class="docutils literal"><span class="pre">conf.py</span></code> to load django properly for doc builds.</li>
<li>Added migrations for all apps with models in the <code class="docutils literal"><span class="pre">readthedocs/</span></code> directory</li>
</ul>
</div>
<div class="section" id="deployment-notes">
<span id="deployment-notes"></span><h4>Deployment Notes<a class="headerlink" href="#deployment-notes" title="Permalink to this headline">¶</a></h4>
<p>After you have updated the code and installed the new dependencies, you need to run these commands on the server:</p>
<div class="highlight-python"><div class="highlight"><pre>python manage.py migrate contenttypes
python manage.py migrate projects 0002 --fake
python manage.py migrate --fake-initial
</pre></div>
</div>
<p>Locally I had trouble in a test environment that pip did not update to the specified commit of tastypie. It might be required to use <code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-U</span> <span class="pre">-r</span> <span class="pre">requirements/deploy.txt</span></code> during deployment.</p>
</div>
<div class="section" id="development-update-notes">
<span id="development-update-notes"></span><h4>Development Update Notes<a class="headerlink" href="#development-update-notes" title="Permalink to this headline">¶</a></h4>
<p>The readthedocs developers need to execute these commands when switching to this branch (or when this got merged into master):</p>
<ul class="simple">
<li><strong>Before updating</strong> please make sure that all migrations are applied:</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre>python manage.py syncdb
python manage.py migrate
</pre></div>
</div>
<ul class="simple">
<li>Update the codebase: <code class="docutils literal"><span class="pre">git</span> <span class="pre">pull</span></code></li>
<li>You need to update the requirements with <code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-r</span> <span class="pre">requirements.txt</span></code></li>
<li>Now you need to fake the initial migrations:</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre>python manage.py migrate contenttypes
python manage.py migrate projects 0002 --fake
python manage.py migrate --fake-initial
</pre></div>
</div>
</div>
</div>
</div>
<span id="document-tests"></span><div class="section" id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<p>Before contributing to Read the Docs, make sure your patch passes our test suite
and your code style passes our code linting suite.</p>
<p>Read the Docs uses <a class="reference external" href="http://tox.readthedocs.io/en/latest/index.html">Tox</a> to execute testing and linting procedures. Tox is the
only dependency you need to run linting or our test suite, the remainder of our
requirements will be installed by Tox into environment specific virtualenv
paths. Before testing, make sure you have Tox installed:</p>
<div class="highlight-python"><div class="highlight"><pre>pip install tox
</pre></div>
</div>
<p>To run the full test and lint suite against your changes, simply run Tox. Tox
should return without any errors. You can run Tox against all of our
environments by running:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">tox</span>
</pre></div>
</div>
<p>To target a specific environment:</p>
<div class="highlight-python"><div class="highlight"><pre>tox -e py27
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">tox</span></code> configuration has the following environments configured. You can
target a single environment to limit the test suite:</p>
<div class="highlight-python"><div class="highlight"><pre>py27
    Run our test suite using Python 2.7

lint
    Run code linting using `Prospector`_. This currently runs `pylint`_,
    `pyflakes`_, `pep8`_ and other linting tools.

docs
    Test documentation compilation with Sphinx.
</pre></div>
</div>
<div class="section" id="continuous-integration">
<h3>Continuous Integration<a class="headerlink" href="#continuous-integration" title="Permalink to this headline">¶</a></h3>
<p>The RTD test suite is exercised by Travis CI on every push to our repo at
GitHub. You can check out the current build status:
<a class="reference external" href="https://travis-ci.org/rtfd/readthedocs.org">https://travis-ci.org/rtfd/readthedocs.org</a></p>
</div>
</div>
<span id="document-architecture"></span><div class="section" id="architecture">
<h2>Architecture<a class="headerlink" href="#architecture" title="Permalink to this headline">¶</a></h2>
<p>Read the Docs is architected to be highly available. A lot of projects host their documentation with us, so we have built the site so that it shouldn&#8217;t go down. The load balancer is the only real single point of failure currently. This means mainly that if the network to the load balancer goes down, we have issues.</p>
<div class="section" id="diagram">
<h3>Diagram<a class="headerlink" href="#diagram" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>                               +-----------+
                               | Rackspace |
                         +-----| Load Bal  |------+
                         |     +-----------+      |
                         |                        |
                    +---------+              +---------+
+-------------+     |         |              |         |    +--------------+
|             |-----| Nginx   |              | Nginx   |----|              |
|  File       |     +---------+              +---------+    |  File        |
|  System     |          |                        |         |  System      |
+-------------+     +---------+  +--------+  +---------+    +--------------+
       |  |         |Gunicorn |  |        |  |Gunicorn |        |   |
       |  +---------|(Django) |--|Postgres|--|(Django) |--------+   |
       |            +---------+  +--------+  +---------+            |
       |                 |                        |                 |
       |                 |                        |                 |
       |                 -----------API------------                 |
       |                             |                              |
       |                             |                              |
       |                     +------------------+                   |
       |                     |                  |                   |
       +---------------------|  Build Server    |-------------------+
                             |                  |
                             +------------------+
</pre></div>
</div>
</div>
</div>
<span id="document-development/standards"></span><div class="section" id="development-standards">
<h2>Development Standards<a class="headerlink" href="#development-standards" title="Permalink to this headline">¶</a></h2>
<div class="section" id="front-end-development">
<h3>Front End Development<a class="headerlink" href="#front-end-development" title="Permalink to this headline">¶</a></h3>
<div class="section" id="background">
<h4>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Consider this the canonical resource for contributing Javascript and CSS. We
are currently in the process of modernizing our front end development
procedures. You will see a lot of different styles around the code base for
front end JavaScript and CSS.</p>
</div>
<p>Our modern front end development stack includes the following tools:</p>
<ul class="simple">
<li><a class="reference external" href="http://gulpjs.com">Gulp</a></li>
<li><a class="reference external" href="http://bower.io">Bower</a></li>
<li><a class="reference external" href="http://browserify.org">Browserify</a></li>
<li><a class="reference external" href="https://github.com/eugeneware/debowerify">Debowerify</a></li>
<li>And soon, <a class="reference external" href="http://lesscss.org">LESS</a></li>
</ul>
<p>We use the following libraries:</p>
<ul class="simple">
<li><a class="reference external" href="http://knockoutjs.com">Knockout</a></li>
<li><a class="reference external" href="http://jquery.com">jQuery</a></li>
<li>Several jQuery plugins</li>
</ul>
<p>Previously, JavaScript development has been done in monolithic files or inside
templates. jQuery was added as a global object via an include in the base
template to an external source. There are no standards currently to JavaScript
libraries, this aims to solve that.</p>
<p>The requirements for modernizing our front end code are:</p>
<ul class="simple">
<li>Code should be modular and testable. One-off chunks of JavaScript in templates
or in large monolithic files are not easily testable. We currently have no
JavaScript tests.</li>
<li>Reduce code duplication.</li>
<li>Easy JavaScript dependency management.</li>
</ul>
<p>Modularizing code with <a class="reference external" href="http://browserify.org">Browserify</a> is a good first step. In this development
workflow, major dependencies commonly used across JavaScript includes are
installed with <a class="reference external" href="http://bower.io">Bower</a> for testing, and vendorized as standalone libraries via
<a class="reference external" href="http://gulpjs.com">Gulp</a> and <a class="reference external" href="http://browserify.org">Browserify</a>. This way, we can easily test our JavaScript libraries
against jQuery/etc, and have the flexibility of modularizing our code. See
<a class="reference internal" href="#javascript-bundles">JavaScript Bundles</a> for more information on what and how we are bundling.</p>
<p>To ease deployment and contributions, bundled JavaScript is checked into the
repository for now. This ensures new contributors don&#8217;t need an additional front
end stack just for making changes to our Python code base. In the future, this
may change, so that assets are compiled before deployment, however as our front
end assets are in a state of flux, it&#8217;s easier to keep absolute sources checked
in.</p>
</div>
<div class="section" id="getting-started">
<h4>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h4>
<p>You will need a working version of Node and NPM to get started. We won&#8217;t cover
that here, as it varies from platform to platform.</p>
<p>To install these tools and dependencies:</p>
<div class="highlight-python"><div class="highlight"><pre>npm install
</pre></div>
</div>
<p>This will install locally to the project, not globally. You can install globally
if you wish, otherwise make sure <code class="docutils literal"><span class="pre">node_modules/.bin</span></code> is in your PATH.</p>
<p>Next, install front end dependencies:</p>
<div class="highlight-python"><div class="highlight"><pre>bower install
</pre></div>
</div>
<p>The sources for our bundles are found in the per-application path
<code class="docutils literal"><span class="pre">static-src</span></code>, which has the same directory structure as <code class="docutils literal"><span class="pre">static</span></code>. Files in
<code class="docutils literal"><span class="pre">static-src</span></code> are compiled to <code class="docutils literal"><span class="pre">static</span></code> for static file collection in Django.
Don&#8217;t edit files in <code class="docutils literal"><span class="pre">static</span></code> directly, unless you are sure there isn&#8217;t a
source file that will compile over your changes.</p>
<p>To test changes while developing, which will watch source files for changes and
compile as necessary, you can run <a class="reference external" href="http://gulpjs.com">Gulp</a> with our development target:</p>
<div class="highlight-python"><div class="highlight"><pre>gulp dev
</pre></div>
</div>
<p>Once you are satisfied with your changes, finalize the bundles (this will
minify library sources):</p>
<div class="highlight-python"><div class="highlight"><pre>gulp build
</pre></div>
</div>
<p>If you updated any of our vendor libraries, compile those:</p>
<div class="highlight-python"><div class="highlight"><pre>gulp vendor
</pre></div>
</div>
<p>Make sure to check in both files under <code class="docutils literal"><span class="pre">static</span></code> and <code class="docutils literal"><span class="pre">static-src</span></code>.</p>
</div>
<div class="section" id="making-changes">
<h4>Making Changes<a class="headerlink" href="#making-changes" title="Permalink to this headline">¶</a></h4>
<p>If you are creating a new library, or a new library entry point, make sure to
define the application source file in <code class="docutils literal"><span class="pre">gulpfile.js</span></code>, this is not handled
automatically right now.</p>
<p>If you are bringing in a new vendor library, make sure to define the bundles you
are going to create in <code class="docutils literal"><span class="pre">gulpfile.js</span></code> as well.</p>
<p>Tests should be included per-application, in a path called <code class="docutils literal"><span class="pre">tests</span></code>, under the
<code class="docutils literal"><span class="pre">static-src/js</span></code> path you are working in. Currently, we still need a test
runner that accumulates these files.</p>
</div>
<div class="section" id="deployment">
<h4>Deployment<a class="headerlink" href="#deployment" title="Permalink to this headline">¶</a></h4>
<p>If merging several branches with JavaScript changes, it&#8217;s important to do a
final post-merge bundle. Follow the steps above to rebundle the libraries, and
check in any changed libraries.</p>
</div>
<div class="section" id="javascript-bundles">
<h4>JavaScript Bundles<a class="headerlink" href="#javascript-bundles" title="Permalink to this headline">¶</a></h4>
<p>There are several components to our bundling scheme:</p>
<blockquote>
<div><dl class="docutils">
<dt>Vendor library</dt>
<dd><p class="first">We repackage these using <a class="reference external" href="http://browserify.org">Browserify</a>, <a class="reference external" href="http://bower.io">Bower</a>, and <a class="reference external" href="https://github.com/eugeneware/debowerify">Debowerify</a> to
make these libraries available by a <code class="docutils literal"><span class="pre">require</span></code> statement.  Vendor
libraries are packaged separately from our JavaScript libraries, because
we use the vendor libraries in multiple locations. Libraries bundled
this way with <a class="reference external" href="http://browserify.org">Browserify</a> are available to our libraries via
<code class="docutils literal"><span class="pre">require</span></code> and will back down to finding the object on the global
<code class="docutils literal"><span class="pre">window</span></code> scope.</p>
<p class="last">Vendor libraries should only include libraries we are commonly reusing.
This currently includes <code class="xref py py-obj docutils literal"><span class="pre">jQuery</span></code> and <code class="xref py py-obj docutils literal"><span class="pre">Knockout</span></code>. These modules will be
excluded from libraries by special includes in our <code class="docutils literal"><span class="pre">gulpfile.js</span></code>.</p>
</dd>
<dt>Minor third party libraries</dt>
<dd>These libraries are maybe used in one or two locations. They are
installed via <a class="reference external" href="http://bower.io">Bower</a> and included in the output library file. Because
we aren&#8217;t reusing them commonly, they don&#8217;t require a separate bundle or
separate include. Examples here would include jQuery plugins used on one
off forms, such as jQuery Payments.</dd>
<dt>Our libraries</dt>
<dd><p class="first">These libraries are bundled up excluding vendor libraries ignored by
rules in our <code class="docutils literal"><span class="pre">gulpfile.js</span></code>. These files should be organized by
function and can be split up into multiple files per application.</p>
<p class="last">Entry points to libraries must be defined in <code class="docutils literal"><span class="pre">gulpfile.js</span></code> for now. We
don&#8217;t have a defined directory structure that would make it easy to
imply the entry point to an application library.</p>
</dd>
</dl>
</div></blockquote>
</div>
</div>
</div>
<span id="document-development/buildenvironments"></span><div class="section" id="build-environments">
<h2>Build Environments<a class="headerlink" href="#build-environments" title="Permalink to this headline">¶</a></h2>
<p>Read the Docs uses container virtualization to encapsulate documentation build
processes. Each build spins up a new virtual machine using our base image,
which is an image with the minimum necessary components required to build
documentation. Virtual machines are limiting in CPU time and memory, which aims
to reduce excessive usage of build resources.</p>
<div class="section" id="setup">
<h3>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h3>
<p>Build environments use <a class="reference external" href="http://docker.com">Docker</a> to handle container virtualization. To perform
any development on the Docker build system, you will need to set up <a class="reference external" href="http://docker.com">Docker</a> on
your host system. Setup of Docker will vary by system, and so is out of the
scope of this documentation.</p>
<p>Once you have Docker set up, you will need to create the base image used for
container creation. The <code class="docutils literal"><span class="pre">base</span></code> image is found in our <a class="reference external" href="https://github.com/rtfd/readthedocs-docker-images">container images repo</a>.
It is the basic container image supported by our community site.</p>
<p>To get started, create the image using the <code class="xref py py-obj docutils literal"><span class="pre">docker</span></code> command line tool. You can
name the image whatever you like here, <code class="docutils literal"><span class="pre">rtfd-build</span></code> is the default name, but
can be configured in your settings &#8211; see <a class="reference internal" href="#configuration">Configuration</a>:</p>
<div class="highlight-python"><div class="highlight"><pre>docker build -t rtfd-build base/
</pre></div>
</div>
<p>When this process has completed, you should have a working image that Read the
Docs can use to start containers.</p>
</div>
<div class="section" id="configuration">
<h3>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h3>
<p>There are several settings used to configure usage of virtual machines:</p>
<dl class="docutils">
<dt>DOCKER_ENABLED</dt>
<dd>True/False value used to enable the Docker build environment. Default:
False</dd>
<dt>DOCKER_LIMITS</dt>
<dd><p class="first">A dictionary of limits to virtual machines. These limits include:</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>time</dt>
<dd>An integer representing the total allowed time limit (in
seconds) of build processes. This time limit affects the parent
process to the virtual machine and will force a virtual machine
to die if a build is still running after the allotted time
expires.</dd>
<dt>memory</dt>
<dd>The maximum memory allocated to the virtual machine. If this
limit is hit, build processes will be automatically killed.
Examples: &#8216;200m&#8217; for 200MB of total memory, or &#8216;2g&#8217; for 2GB of
total memory.</dd>
</dl>
</div></blockquote>
</dd>
<dt>DOCKER_IMAGE</dt>
<dd>Tag of a Docker image to use as a base image.</dd>
<dt>DOCKER_SOCKET</dt>
<dd>URI of the socket to connect to the Docker daemon. Examples include:
<code class="docutils literal"><span class="pre">unix:///var/run/docker.sock</span></code> and <code class="docutils literal"><span class="pre">tcp://127.0.0.1:2375</span></code></dd>
<dt>DOCKER_VERSION</dt>
<dd>Version of the API to use for the Docker API client.</dd>
</dl>
</div>
</div>
<span id="document-symlinks"></span><div class="section" id="how-we-use-symlinks">
<h2>How we use symlinks<a class="headerlink" href="#how-we-use-symlinks" title="Permalink to this headline">¶</a></h2>
<p>Read the Docs stays highly available by serving all documentation pages out of nginx.
This means that they never hit our Python layer,
meaning that they never hit our database.
This reduces the total number of servers to serve a request to 1,
each of which is redundant.</p>
<div class="section" id="nginx">
<h3>Nginx<a class="headerlink" href="#nginx" title="Permalink to this headline">¶</a></h3>
<p>We handle a couple of different types of requests in nginx:</p>
<ul class="simple">
<li>Requests to a readthedocs.org subdomain</li>
<li>Requests to a CNAME</li>
</ul>
</div>
<div class="section" id="subdomains">
<h3>Subdomains<a class="headerlink" href="#subdomains" title="Permalink to this headline">¶</a></h3>
<p>For subdomains this is a simple lookup.
This doesn&#8217;t require symlinks,
but it shows the basic logic that we need to replicate.</p>
<p>When a user navigates to <code class="docutils literal"><span class="pre">http://pip.readthedocs.org/en/latest/</span></code>,
we know that they want the pip documentation.
So we simply serve them the documentation:</p>
<div class="highlight-nginx"><div class="highlight"><pre><span class="k">location</span> <span class="p">~</span> <span class="sr">^/en/(.+)/(.*)</span> <span class="p">{</span>
    <span class="kn">alias</span> <span class="s">/home/docs/checkouts/readthedocs.org/user_builds/</span><span class="nv">$domain/rtd-builds/$1/$2</span><span class="p">;</span>
    <span class="kn">error_page</span> <span class="mi">404</span> <span class="p">=</span> <span class="s">@fallback</span><span class="p">;</span>
    <span class="kn">error_page</span> <span class="mi">500</span> <span class="p">=</span> <span class="s">@fallback</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">location</span> <span class="s">@fallback</span> <span class="p">{</span>
    <span class="kn">proxy_pass</span> <span class="s">http://127.0.0.1:8888</span><span class="p">;</span>
    <span class="kn">proxy_set_header</span> <span class="s">Host</span> <span class="nv">$host</span><span class="p">;</span>
    <span class="kn">proxy_set_header</span> <span class="s">X-Real-IP</span> <span class="nv">$remote_addr</span><span class="p">;</span>
    <span class="kn">proxy_set_header</span> <span class="s">X-Forwarded-For</span> <span class="nv">$proxy_add_x_forwarded_for</span><span class="p">;</span>
    <span class="kn">add_header</span> <span class="s">X-Deity</span> <span class="s">Asgard</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">&#64;fallback</span></code> directive is hit when we don&#8217;t find the proper file.
This will cause things to hit the Python backend,
so that proper action can be taken.</p>
</div>
</div>
<div class="section" id="cnames">
<h3>CNAMEs<a class="headerlink" href="#cnames" title="Permalink to this headline">¶</a></h3>
<p>CNAMEs add a bit of difficulty,
because at the nginx layer we don&#8217;t know what documentation to serve.
When someone requests <code class="docutils literal"><span class="pre">http://docs.fabfile.org/en/latest/</span></code>,
we can&#8217;t look at the URL to know to serve the <code class="docutils literal"><span class="pre">fabric</span></code> docs.</p>
<p>This is where symlinks come in.
When someone requests <code class="docutils literal"><span class="pre">http://docs.fabfile.org/en/latest/</span></code> the first time,
it hits the Python layer.
In that Python layer we record that <code class="docutils literal"><span class="pre">docs.fabfile.org</span></code> points at <code class="docutils literal"><span class="pre">fabric</span></code>.
When we build the <code class="docutils literal"><span class="pre">fabric</span></code> docs,
we create a symlink for all domains that have pointed at <code class="docutils literal"><span class="pre">fabric</span></code> before.</p>
<p>So,
when we get a request for <code class="docutils literal"><span class="pre">docs.fabfile.org</span></code> in the future,
we will be able to serve it directly from nginx.
In this example,
$host would be <code class="docutils literal"><span class="pre">docs.fabfile.org</span></code>:</p>
<div class="highlight-nginx"><div class="highlight"><pre><span class="k">location</span> <span class="p">~</span> <span class="sr">^/en/(?P&lt;doc_version&gt;.+)/(?P&lt;path&gt;.*)</span> <span class="p">{</span>
    <span class="kn">alias</span> <span class="s">/home/docs/checkouts/readthedocs.org/cnames/</span><span class="nv">$host/$doc_version/$path</span><span class="p">;</span>
    <span class="kn">error_page</span> <span class="mi">404</span> <span class="p">=</span> <span class="s">@fallback</span><span class="p">;</span>
    <span class="kn">error_page</span> <span class="mi">500</span> <span class="p">=</span> <span class="s">@fallback</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Notice that nowhere in the above path is the project&#8217;s slug mentioned.
It is simply there in the symlink in the cnames directory,
and the docs are served from there.</p>
</div>
</div>
<span id="document-settings"></span><div class="section" id="interesting-settings">
<h2>Interesting Settings<a class="headerlink" href="#interesting-settings" title="Permalink to this headline">¶</a></h2>
<div class="section" id="slumber-username">
<h3>SLUMBER_USERNAME<a class="headerlink" href="#slumber-username" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="xref py py-obj docutils literal"><span class="pre">test</span></code></p>
<p>The username to use when connecting to the Read the Docs API. Used for hitting the API while building the docs.</p>
</div>
<div class="section" id="slumber-password">
<h3>SLUMBER_PASSWORD<a class="headerlink" href="#slumber-password" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="xref py py-obj docutils literal"><span class="pre">test</span></code></p>
<p>The password to use when connecting to the Read the Docs API. Used for hitting the API while building the docs.</p>
</div>
<div class="section" id="use-subdomain">
<h3>USE_SUBDOMAIN<a class="headerlink" href="#use-subdomain" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="xref py py-obj docutils literal"><span class="pre">False</span></code></p>
<p>Whether to use subdomains in URLs on the site, or the Django-served content.
When used in production, this should be <code class="docutils literal"><span class="pre">True</span></code>, as Nginx will serve this content.
During development and other possible deployments, this might be <code class="docutils literal"><span class="pre">False</span></code>.</p>
</div>
<div class="section" id="production-domain">
<h3>PRODUCTION_DOMAIN<a class="headerlink" href="#production-domain" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="xref py py-obj docutils literal"><span class="pre">readthedocs.org</span></code></p>
<p>This is the domain that gets linked to throughout the site when used in production.
It depends on <code class="xref py py-obj docutils literal"><span class="pre">USE_SUBDOMAIN</span></code>, otherwise it isn&#8217;t used.</p>
</div>
<div class="section" id="multiple-app-servers">
<h3>MULTIPLE_APP_SERVERS<a class="headerlink" href="#multiple-app-servers" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="xref py py-obj docutils literal"><span class="pre">undefined</span></code></p>
<p>This is a list of application servers that built documentation is copied to. This allows you to run an independent build server, and then have it rsync your built documentation across multiple front end documentation/app servers.</p>
</div>
<div class="section" id="default-privacy-level">
<h3>DEFAULT_PRIVACY_LEVEL<a class="headerlink" href="#default-privacy-level" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="xref py py-obj docutils literal"><span class="pre">public</span></code></p>
<p>What privacy projects default to having. Generally set to <code class="xref py py-obj docutils literal"><span class="pre">public</span></code>. Also acts as a proxy setting for blocking certain historically insecure options, like serving generated artifacts directly from the media server.</p>
</div>
<div class="section" id="index-only-latest">
<h3>INDEX_ONLY_LATEST<a class="headerlink" href="#index-only-latest" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="xref py py-obj docutils literal"><span class="pre">False</span></code></p>
<p>In search, only index the <code class="xref py py-obj docutils literal"><span class="pre">latest</span></code> version of a Project.</p>
</div>
<div class="section" id="document-pyquery-path">
<h3>DOCUMENT_PYQUERY_PATH<a class="headerlink" href="#document-pyquery-path" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="xref py py-obj docutils literal"><span class="pre">div.document</span></code></p>
<p>The Pyquery path to an HTML element that is the root of your document.
This is used for making sure we are only searching the main content of a document.</p>
</div>
<div class="section" id="use-pip-install">
<h3>USE_PIP_INSTALL<a class="headerlink" href="#use-pip-install" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="xref py py-obj docutils literal"><span class="pre">False</span></code></p>
<p>Whether to use <code class="xref py py-obj docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">.</span></code> or <code class="xref py py-obj docutils literal"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install</span></code> when installing packages into the Virtualenv. Default is to use <code class="xref py py-obj docutils literal"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install</span></code>.</p>
</div>
<div class="section" id="public-domain">
<h3>PUBLIC_DOMAIN<a class="headerlink" href="#public-domain" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="xref py py-obj docutils literal"><span class="pre">settings.PRODUCTION_DOMAIN</span></code></p>
<p>A special domain for serving public documentation.
If set, public docs will be linked here instead of the <code class="xref py py-obj docutils literal"><span class="pre">PRODUCTION_DOMAIN</span></code>.</p>
</div>
<div class="section" id="allow-admin">
<h3>ALLOW_ADMIN<a class="headerlink" href="#allow-admin" title="Permalink to this headline">¶</a></h3>
<p>Default: <code class="xref py py-obj docutils literal"><span class="pre">True</span></code></p>
<p>Whether to include <code class="xref py py-obj docutils literal"><span class="pre">django.contrib.admin</span></code> in the URL&#8217;s.</p>
</div>
</div>
<span id="document-i18n"></span><div class="section" id="internationalization">
<span id="i18n"></span><h2>Internationalization<a class="headerlink" href="#internationalization" title="Permalink to this headline">¶</a></h2>
<p>This document covers the details regarding internationalization and
localization that are applied in Read the Docs. The guidelines described are
mostly based on <a class="reference external" href="http://kitsune.readthedocs.io/en/latest/localization.html">Kitsune&#8217;s localization documentation</a>.</p>
<p>As with most of the Django applications out there, Read the Docs&#8217; i18n/l10n
framework is based on <a class="reference external" href="http://www.gnu.org/software/gettext/">GNU gettext</a>.
Crowd-sourced localization is optionally available at <a class="reference external" href="https://www.transifex.com/projects/p/readthedocs/">Transifex</a>.</p>
<p>For more information about the general ideas,
look at this document: <a class="reference external" href="http://www.gnu.org/software/gettext/manual/html_node/Concepts.html">http://www.gnu.org/software/gettext/manual/html_node/Concepts.html</a></p>
<div class="section" id="making-strings-localizable">
<h3>Making Strings Localizable<a class="headerlink" href="#making-strings-localizable" title="Permalink to this headline">¶</a></h3>
<p>Making strings in templates localizable is exceptionally easy. Making strings
in Python localizable is a little more complicated. The short answer, though,
is to just wrap the string in <code class="docutils literal"><span class="pre">_()</span></code>.</p>
<div class="section" id="interpolation">
<h4>Interpolation<a class="headerlink" href="#interpolation" title="Permalink to this headline">¶</a></h4>
<p>A string is often a combination of a fixed string and something changing, for
example, <code class="docutils literal"><span class="pre">Welcome,</span> <span class="pre">James</span></code> is a combination of the fixed part <code class="docutils literal"><span class="pre">Welcome,</span></code>,
and the changing part <code class="docutils literal"><span class="pre">James</span></code>. The naive solution is to localize the first
part and then follow it with the name:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">_</span><span class="p">(</span><span class="s">&#39;Welcome, &#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">username</span>
</pre></div>
</div>
<p>This is <strong>wrong!</strong></p>
<p>In some locales, the word order may be different. Use Python string formatting
to interpolate the changing part into the string:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">_</span><span class="p">(</span><span class="s">&#39;Welcome, {name}&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">username</span><span class="p">)</span>
</pre></div>
</div>
<p>Python gives you a lot of ways to interpolate strings. The best way is to use
Py3k formatting and kwargs. That&#8217;s the clearest for localizers.</p>
</div>
<div class="section" id="localization-comments">
<h4>Localization Comments<a class="headerlink" href="#localization-comments" title="Permalink to this headline">¶</a></h4>
<p>Sometimes, it can help localizers to describe where a string comes from,
particularly if it can be difficult to find in the interface, or is not very
self-descriptive (e.g. very short strings). If you immediately precede the
string with a comment that starts with <code class="docutils literal"><span class="pre">Translators:</span></code>, the comment will be
added to the PO file, and visible to localizers.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">DEFAULT_THEME_CHOICES</span> <span class="o">=</span> <span class="p">(</span>
    <span class="c"># Translators: This is a name of a Sphinx theme.</span>
    <span class="p">(</span><span class="n">THEME_DEFAULT</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s">&#39;Default&#39;</span><span class="p">)),</span>
    <span class="c"># Translators: This is a name of a Sphinx theme.</span>
    <span class="p">(</span><span class="n">THEME_SPHINX</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s">&#39;Sphinx Docs&#39;</span><span class="p">)),</span>
    <span class="c"># Translators: This is a name of a Sphinx theme.</span>
    <span class="p">(</span><span class="n">THEME_TRADITIONAL</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s">&#39;Traditional&#39;</span><span class="p">)),</span>
    <span class="c"># Translators: This is a name of a Sphinx theme.</span>
    <span class="p">(</span><span class="n">THEME_NATURE</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s">&#39;Nature&#39;</span><span class="p">)),</span>
    <span class="c"># Translators: This is a name of a Sphinx theme.</span>
    <span class="p">(</span><span class="n">THEME_HAIKU</span><span class="p">,</span> <span class="n">_</span><span class="p">(</span><span class="s">&#39;Haiku&#39;</span><span class="p">)),</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-context-with-msgctxt">
<h4>Adding Context with msgctxt<a class="headerlink" href="#adding-context-with-msgctxt" title="Permalink to this headline">¶</a></h4>
<p>Strings may be the same in English, but different in other languages. English,
for example, has no grammatical gender, and sometimes the noun and verb forms
of a word are identical.</p>
<p>To make it possible to localize these correctly, we can add &#8220;context&#8221; (known in
gettext as <em>msgctxt</em>) to differentiate two otherwise identical strings. Django
provides a <code class="xref py py-func docutils literal"><span class="pre">pgettext()</span></code> function for this.</p>
<p>For example, the string <em>Search</em> may be a noun or a verb in English. In a
heading, it may be considered a noun, but on a button, it may be a verb. It&#8217;s
appropriate to add a context (like <em>button</em>) to one of them.</p>
<p>Generally, we should only add context if we are sure the strings aren&#8217;t used in
the same way, or if localizers ask us to.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.utils.translation</span> <span class="kn">import</span> <span class="n">pgettext</span>

<span class="n">month</span> <span class="o">=</span> <span class="n">pgettext</span><span class="p">(</span><span class="s">&quot;text for the search button on the form&quot;</span><span class="p">,</span> <span class="s">&quot;Search&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="plurals">
<h4>Plurals<a class="headerlink" href="#plurals" title="Permalink to this headline">¶</a></h4>
<p><em>You have 1 new messages</em> grates on discerning ears. Fortunately, gettext gives
us a way to fix that in English <em>and</em> other locales, the
<code class="xref py py-func docutils literal"><span class="pre">ngettext()</span></code> function:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ngettext</span><span class="p">(</span><span class="s">&#39;singular sentence&#39;</span><span class="p">,</span> <span class="s">&#39;plural sentence&#39;</span><span class="p">,</span> <span class="n">count</span><span class="p">)</span>
</pre></div>
</div>
<p>A more realistic example might be:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ngettext</span><span class="p">(</span><span class="s">&#39;Found {count} result.&#39;</span><span class="p">,</span>
         <span class="s">&#39;Found {count} results&#39;</span><span class="p">,</span>
         <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">))</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">count</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>
</pre></div>
</div>
<p>This method takes three arguments because English only needs three, i.e., zero
is considered &#8220;plural&#8221; for English. Other languages may have <a class="reference external" href="http://translate.sourceforge.net/wiki/l10n/pluralforms">different plural
rules</a>, and require
different phrases for, say 0, 1, 2-3, 4-10, &gt;10. That&#8217;s absolutely fine, and
gettext makes it possible.</p>
</div>
</div>
<div class="section" id="strings-in-templates">
<h3>Strings in Templates<a class="headerlink" href="#strings-in-templates" title="Permalink to this headline">¶</a></h3>
<p>When putting new text into a template, all you need to do is wrap it in a
<code class="docutils literal"><span class="pre">{%</span> <span class="pre">trans</span> <span class="pre">%}</span></code> template tag:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;h1&gt;{% trans &quot;Heading&quot; %}&lt;/h1&gt;
</pre></div>
</div>
<p>Context can be added, too:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;h1&gt;{% trans &quot;Heading&quot; context &quot;section name&quot; %}&lt;/h1&gt;
</pre></div>
</div>
<p>Comments for translators need to precede the internationalized text and must
start with the <code class="docutils literal"><span class="pre">Translators:</span></code> keyword.:</p>
<div class="highlight-python"><div class="highlight"><pre>{# Translators: This heading is displayed in the user&#39;s profile page #}
&lt;h1&gt;{% trans &quot;Heading&quot; %}&lt;/h1&gt;
</pre></div>
</div>
<p>To interpolate, you need to use the alternative and more verbose <code class="docutils literal"><span class="pre">{%</span>
<span class="pre">blocktrans</span> <span class="pre">%}</span></code> template tag — it&#8217;s actually a block:</p>
<div class="highlight-python"><div class="highlight"><pre>{% blocktrans %}Welcome, {{ name }}!{% endblocktrans %}
</pre></div>
</div>
<p>Note that the <code class="docutils literal"><span class="pre">{{</span> <span class="pre">name</span> <span class="pre">}}</span></code> variable needs to exist in the template context.</p>
<p>In some situations, it&#8217;s desirable to evaluate template expressions such as
filters or accessing object attributes. You can&#8217;t do that within the <code class="docutils literal"><span class="pre">{%</span>
<span class="pre">blocktrans</span> <span class="pre">%}</span></code> block, so you need to bind the expression to a local variable
first:</p>
<div class="highlight-python"><div class="highlight"><pre>{% blocktrans with revision.created_date|timesince as timesince %}
{{ revision }} {{ timesince }} ago
{% endblocktrans %}

{% blocktrans with project.name as name %}Delete {{ name }}?{% endblocktrans %}
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">{%</span> <span class="pre">blocktrans</span> <span class="pre">%}</span></code> also provides pluralization. For that you need to bind a
counter with the name <code class="docutils literal"><span class="pre">count</span></code> and provide a plural translation after the <code class="docutils literal"><span class="pre">{%</span>
<span class="pre">plural</span> <span class="pre">%}</span></code> tag:</p>
<div class="highlight-python"><div class="highlight"><pre>{% blocktrans with amount=article.price count years=i.length %}
That will cost $ {{ amount }} per year.
{% plural %}
That will cost $ {{ amount }} per {{ years }} years.
{% endblocktrans %}
</pre></div>
</div>
</div>
<div class="section" id="strings-in-python">
<h3>Strings in Python<a class="headerlink" href="#strings-in-python" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Whenever you are adding a string in Python, ask yourself if it
really needs to be there, or if it should be in the template. Keep
logic and presentation separate!</p>
</div>
<p>Strings in Python are more complex for two reasons:</p>
<ol class="arabic simple">
<li>We need to make sure we&#8217;re always using Unicode strings and the
Unicode-friendly versions of the functions.</li>
<li>If you use the <code class="xref py py-func docutils literal"><span class="pre">ugettext()</span></code> function in the
wrong place, the string may end up in the wrong locale!</li>
</ol>
<p>Here&#8217;s how you might localize a string in a view:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.utils.translation</span> <span class="kn">import</span> <span class="n">ugettext</span> <span class="k">as</span> <span class="n">_</span>

<span class="k">def</span> <span class="nf">my_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">is_superuser</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s">u&#39;Oh hi, staff!&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s">u&#39;You are not staff!&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Interpolation is done through normal Python string formatting:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">msg</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s">u&#39;Oh, hi, {user}&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">username</span><span class="p">)</span>
</pre></div>
</div>
<p>Context information can be supplied by using the
<code class="xref py py-func docutils literal"><span class="pre">pgettext()</span></code> function:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">msg</span> <span class="o">=</span> <span class="n">pgettext</span><span class="p">(</span><span class="s">&#39;the context&#39;</span><span class="p">,</span> <span class="s">&#39;Search&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Translator comments are normal one-line Python comments:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Translators: A message to users.</span>
<span class="n">msg</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s">u&#39;Oh, hi there!&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>If you need to use plurals, import the
<code class="xref py py-func docutils literal"><span class="pre">ungettext()</span></code> function:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.utils.translation</span> <span class="kn">import</span> <span class="n">ungettext</span>

<span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
<span class="n">msg</span> <span class="o">=</span> <span class="n">ungettext</span><span class="p">(</span><span class="s">&#39;Found {0} result&#39;</span><span class="p">,</span> <span class="s">&#39;Found {0} results&#39;</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="lazily-translated-strings">
<h4>Lazily Translated Strings<a class="headerlink" href="#lazily-translated-strings" title="Permalink to this headline">¶</a></h4>
<p>You can use <code class="xref py py-func docutils literal"><span class="pre">ugettext()</span></code> or
<code class="xref py py-func docutils literal"><span class="pre">ungettext()</span></code> only in views or functions called
from views. If the function will be evaluated when the module is loaded, then
the string may end up in English or the locale of the last request!</p>
<p>Examples include strings in module-level code, arguments to functions in class
definitions, strings in functions called from outside the context of a view. To
internationalize these strings, you need to use the <code class="docutils literal"><span class="pre">_lazy</span></code> versions of the
above methods, <code class="xref py py-func docutils literal"><span class="pre">ugettext_lazy()</span></code> and
<code class="xref py py-func docutils literal"><span class="pre">ungettext_lazy()</span></code>. The result doesn&#8217;t get
translated until it is evaluated as a string, for example by being output or
passed to <code class="docutils literal"><span class="pre">unicode()</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.utils.translation</span> <span class="kn">import</span> <span class="n">ugettext_lazy</span> <span class="k">as</span> <span class="n">_</span>

<span class="k">class</span> <span class="nc">UserProfileForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">ModelForm</span><span class="p">):</span>
    <span class="n">first_name</span> <span class="o">=</span> <span class="n">CharField</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s">&#39;First name&#39;</span><span class="p">),</span> <span class="n">required</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
    <span class="n">last_name</span> <span class="o">=</span> <span class="n">CharField</span><span class="p">(</span><span class="n">label</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s">&#39;Last name&#39;</span><span class="p">),</span> <span class="n">required</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<p>In case you want to provide context to a lazily-evaluated gettext string, you
will need to use <code class="xref py py-func docutils literal"><span class="pre">pgettext_lazy()</span></code>.</p>
</div>
</div>
</div>
<div class="section" id="administrative-tasks">
<h2>Administrative Tasks<a class="headerlink" href="#administrative-tasks" title="Permalink to this headline">¶</a></h2>
<div class="section" id="updating-localization-files">
<h3>Updating Localization Files<a class="headerlink" href="#updating-localization-files" title="Permalink to this headline">¶</a></h3>
<p>To update the translation source files (eg if you changed or added translatable
strings in the templates or Python code) you should run <code class="docutils literal"><span class="pre">python</span> <span class="pre">manage.py</span>
<span class="pre">makemessages</span> <span class="pre">-l</span> <span class="pre">&lt;language&gt;</span></code> in the project&#8217;s root directory (substitute
<code class="docutils literal"><span class="pre">&lt;language&gt;</span></code> with a valid language code).</p>
<p>The updated files can now be localized in a <a class="reference external" href="https://en.wikipedia.org/wiki/Category:Software-localization_tools">PO editor</a> or
crowd-sourced online translation tool.</p>
</div>
<div class="section" id="compiling-to-mo">
<span id="i18n-compiling"></span><h3>Compiling to MO<a class="headerlink" href="#compiling-to-mo" title="Permalink to this headline">¶</a></h3>
<p>Gettext doesn&#8217;t parse any text files, it reads a binary format for faster
performance. To compile the latest PO files in the repository, Django provides
the <code class="docutils literal"><span class="pre">compilemessages</span></code> management command. For example, to compile all the
available localizations, just run:</p>
<div class="highlight-python"><div class="highlight"><pre>$ python manage.py compilemessages -a
</pre></div>
</div>
<p>You will need to do this every time you want to push updated translations to
the live site.</p>
<p>Also, note that it&#8217;s not a good idea to track MO files in version control,
since they would need to be updated at the same pace PO files are updated, so
it&#8217;s silly and not worth it. They are ignored by <code class="docutils literal"><span class="pre">.gitignore</span></code>, but please
make sure you don&#8217;t forcibly add them to the repository.</p>
</div>
<div class="section" id="transifex-integration">
<h3>Transifex Integration<a class="headerlink" href="#transifex-integration" title="Permalink to this headline">¶</a></h3>
<p>To push updated translation source files to Transifex, run <code class="docutils literal"><span class="pre">tx</span>
<span class="pre">push</span> <span class="pre">-s</span></code> (for English) or <code class="docutils literal"><span class="pre">tx</span> <span class="pre">push</span> <span class="pre">-t</span> <span class="pre">&lt;language&gt;</span></code> (for non-English).</p>
<p>To pull changes from Transifex, run <code class="docutils literal"><span class="pre">tx</span> <span class="pre">pull</span> <span class="pre">-a</span></code>. Note that Transifex does
not compile the translation files, so you have to do this after the pull (see
the <a class="reference internal" href="#i18n-compiling"><span>Compiling to MO</span></a> section).</p>
<p>For more information about the <code class="docutils literal"><span class="pre">tx</span></code> command, read the <a class="reference external" href="http://help.transifex.com/features/client/">Transifex client&#8217;s
help pages</a>.</p>
</div>
</div>
<span id="document-issue-labels"></span><div class="section" id="overview-of-issue-labels">
<span id="issue-label-overview"></span><h2>Overview of issue labels<a class="headerlink" href="#overview-of-issue-labels" title="Permalink to this headline">¶</a></h2>
<p>Here is a full list of labels that we use in the <a class="reference external" href="https://github.com/rtfd/readthedocs.org/issues">GitHub issue tracker</a> and
what they stand for.</p>
<dl class="docutils">
<dt><em>Bug</em></dt>
<dd>An issue describing unexpected or malicious behaviour of the
readthedocs.org software.</dd>
<dt><em>Community Effort</em></dt>
<dd>Tickets with this label are valid issues that the core team thinks are
worth to fix or implement in the future. However the core team&#8217;s resources
are too scarce to address these issues. Tickets marked with this label
are issues that the core team will <strong>not</strong> work on, but contributions
from the community are very welcome.</dd>
<dt><em>Design</em></dt>
<dd>Issues related to the UI of the readthedocs.org website.</dd>
<dt><em>Enhancement</em></dt>
<dd>Feature requests and ideas about how to make readthedocs.org better in
general will have this label.</dd>
<dt><em>Feature Overview</em></dt>
<dd>Features that are too big to be tackled in one ticket are split up into
multiple tickets. A feature overview ticket is then explaining the overarching
idea. See the milestone of the feature overview ticket for all related
tickets.</dd>
<dt><em>Good First Bug</em></dt>
<dd>This label marks tickets that are easy to get started with. The ticket
should be ideal for beginners to dive into the code base.</dd>
<dt><em>High Priority</em></dt>
<dd>Tickets with this label should be resolved as quickly as possible.</dd>
<dt><em>Mkdocs</em></dt>
<dd>Tickets that are related to the Mkdocs builder.</dd>
<dt><em>Needed: design decision</em></dt>
<dd>Tickets that need a design decision are blocked for development until a
project leader clarifies the way in which the issue should be approached.</dd>
<dt><em>Needed: documentation</em></dt>
<dd>If an issue involves creating or refining documentation, this label will be
assigned.</dd>
<dt><em>Needed: more information</em></dt>
<dd>This label indicates that the issue has not enough information in order to
decide on how to go forward. See the documentation about our <a class="reference internal" href="index.html#triage-not-enough-information"><span>triage
process</span></a> for more information.</dd>
<dt><em>Needed: patch</em></dt>
<dd>This label indicates that a patch is required in order to resolve the
ticket. A fix should be proposed via a pull request on GitHub.</dd>
<dt><em>Needed: tests</em></dt>
<dd>This label indicates that a better test coverage is required to resolve
the ticket. New tests should be proposed via a pull request on GitHub.</dd>
<dt><em>Operations</em></dt>
<dd>Tickets that require changes in the server infrastructure.</dd>
<dt><em>PR: ready for review</em></dt>
<dd>Pull Requests that are considered complete. A review by at least one core
developer is required prior to merging it.</dd>
<dt><em>PR: work in progress</em></dt>
<dd>Pull Requests that are not complete yet. A final review is not possible
yet, but every Pull Request is open for discussion.</dd>
<dt><em>Sprintable</em></dt>
<dd>Sprintable are all tickets that have the right amount of scope to be
handled during a sprint. They are very focused and encapsulated.</dd>
<dt><em>Status: blocked</em></dt>
<dd>The ticket cannot be resolved until some other ticket has been closed.
See the ticket&#8217;s log for which ticket is blocking this ticket.</dd>
<dt><em>Status: duplicate</em></dt>
<dd>See the ticket&#8217;s log to find the original ticket that this one is a
duplicate of.</dd>
<dt><em>Status: invalid</em></dt>
<dd>A ticket is invalid if the reported issue cannot be reproduced.</dd>
<dt><em>Status: rejected</em></dt>
<dd>A ticket gets rejected if the proposed enhancement is not in line with the
overall goals of readthedocs.org.</dd>
<dt><em>Support</em></dt>
<dd>Questions that needs answering but do not require code changes or issues
that only require a one time action on the server will have this label.
See the documentation about our <a class="reference internal" href="index.html#triage-support-tickets"><span>triage process</span></a> for more information.</dd>
</dl>
</div>
</div>
<div class="toctree-wrapper compound" id="business-documentation">
<span id="business-docs"></span><span id="document-business/index"></span><div class="section" id="read-the-docs-business-features">
<h2>Read the Docs Business Features<a class="headerlink" href="#read-the-docs-business-features" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">These features are for our new business offering, <a class="reference external" href="https://readthedocs.com/">readthedocs.com</a>.
We are currently in an invite-only beta,
but will be opening up for more users soon.</p>
</div>
<p>All of the other features outlined in these docs work on both sites.
Things inside this section are specific to our business offering.</p>
<p>The largest feature that is different is that documentation on readthedocs.com is <strong>private</strong>.
If you have private code that you want documentation for,
this is our solution.</p>
<div class="toctree-wrapper compound">
<span id="document-business/organizations"></span><div class="section" id="organizations">
<h3>Organizations<a class="headerlink" href="#organizations" title="Permalink to this headline">¶</a></h3>
<p>Organizations allow you to segment who has access to what projects in your company.
Your company will be represented as an Organization,
let&#8217;s use ACME Corporation as our example.</p>
<p>ACME has a few people inside their organization,
some who need full access and some who just need access to one project.</p>
<div class="section" id="member-types">
<h4>Member Types<a class="headerlink" href="#member-types" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><strong>Owners</strong> &#8211; Get full access to both view and edit the Organization and all Projects</li>
<li><strong>Members</strong> &#8211; Get access to a subset of the Organization projects</li>
<li><strong>Teams</strong> &#8211; Where you give members access to a set of projects.</li>
</ul>
<p>The best way to think about this relationship is:</p>
<p><em>Owners</em> will create <em>Teams</em> to assign permissions to all <em>Members</em>.</p>
</div>
<div class="section" id="team-types">
<h4>Team Types<a class="headerlink" href="#team-types" title="Permalink to this headline">¶</a></h4>
<p>You can create two types of Teams:</p>
<ul class="simple">
<li><strong>Admins</strong> &#8211; These teams have full access to administer the projects in the team. They are allowed to change all of the settings, set notifications, and perform any action under the <strong>Admin</strong> tab.</li>
<li><strong>Read Only</strong> &#8211; These teams are only able to read and search inside the documents.</li>
</ul>
</div>
<div class="section" id="example">
<h4>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h4>
<p>ACME would set up <em>Owners</em> of their organization,
for example Frank Roadrunner would be an owner.
He has full access to the organization and all projects.</p>
<p>Wile E. Coyote is a contractor,
and will just have access to the new project Road Builder.</p>
<p>Roadrunner would set up a <em>Team</em> called <em>Contractors</em>.
That team would have <em>Read Only</em> access to the <em>Road Builder</em> project.
Then he would add <em>Wile E. Coyote</em> to the team.
This would give him access to just this one project inside the organization.</p>
</div>
</div>
<span id="document-business/sharing"></span><div class="section" id="sharing">
<h3>Sharing<a class="headerlink" href="#sharing" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This feature only exists on our Business offering at <a class="reference external" href="https://readthedocs.com/">readthedocs.com</a>.</p>
</div>
<p>You can share your project with users outside of your company.
This works by sending them a link,
which will allow them to view a specific project inside your company.</p>
<div class="section" id="enabling">
<h4>Enabling<a class="headerlink" href="#enabling" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Go into your <em>Project Admin</em> page and to the <em>Sharing</em> link.</li>
<li>Under the <em>Add Token</em> heading, add a <em>Description</em> so you remember who you&#8217;re sharing it with.</li>
<li>Click <em>Share</em> to create.</li>
<li>Copy the link that is generated, and give that to the person who you want to give access.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can always revoke access in the same panel.</p>
</div>
</div>
<div class="section" id="effects">
<h4>Effects<a class="headerlink" href="#effects" title="Permalink to this headline">¶</a></h4>
<p>Once the person you send the link to clicks the link,
they will have access to view your project.
It will only work for the specific browser that they click the link from.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">They will be able to share this token with other people,
so only share with people you trust.
We only let sharing links be activated <strong>five</strong> times to prevent abuse.</p>
</div>
</div>
</div>
<span id="document-business/analytics"></span><div class="section" id="analytics">
<h3>Analytics<a class="headerlink" href="#analytics" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">These features are still being developed, and aren&#8217;t deployed yet.</p>
</div>
<p>Analytics lets you see <em>who</em> is viewing <em>which</em> documents.
This allows you to understand how your documentation is being used,
so you can focus on expanding and updating parts people are reading most.</p>
<div class="section" id="viewing">
<h4>Viewing<a class="headerlink" href="#viewing" title="Permalink to this headline">¶</a></h4>
<p>Each project page has a listing of the number of views that it has seen.
You can click through here to inspect more information about who is viewing,
and when they are looking at things.</p>
<p>You can also view your Analytics data in your documentation pages.
There is a button in the Read the Docs flyout what will overlay analytics information.
This will let you understand how users are using docs,
in context of the actual documentation.</p>
</div>
</div>
</div>
</div>
</div>
<div class="toctree-wrapper compound" id="custom-install-documentation">
<span id="custom-docs"></span><span id="document-custom_installs/index"></span><div class="section" id="info-about-custom-installs">
<h2>Info about custom installs<a class="headerlink" href="#info-about-custom-installs" title="Permalink to this headline">¶</a></h2>
<p>Read the Docs is open source, which means you can run your own version of it. There are many reasons to do this, the main one being if you want a private instance. If you have to keep everything behind a firewall or VPN, this is for you.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Read the Docs developers do not support custom installs of our software. These documents are maintained by the community, and might not be up to date.</p>
</div>
<div class="toctree-wrapper compound">
<span id="document-custom_installs/customization"></span><div class="section" id="customizing-your-install">
<h3>Customizing your install<a class="headerlink" href="#customizing-your-install" title="Permalink to this headline">¶</a></h3>
<p>Read the Docs has a lot of <a class="reference internal" href="index.html#document-settings"><em>Interesting Settings</em></a> that help customize your install.
This document will outline some of the more useful ways that these can be combined.</p>
<div class="section" id="have-a-local-settings-file">
<h4>Have a local settings file<a class="headerlink" href="#have-a-local-settings-file" title="Permalink to this headline">¶</a></h4>
<p>If you put a file named <code class="docutils literal"><span class="pre">local_settings.py</span></code> in the <code class="docutils literal"><span class="pre">readthedocs/settings</span></code> directory, it will override settings available in the base install.</p>
</div>
<div class="section" id="adding-your-own-title-to-pages">
<h4>Adding your own title to pages<a class="headerlink" href="#adding-your-own-title-to-pages" title="Permalink to this headline">¶</a></h4>
<p>This requires 2 parts of setup. First, you need to add a custom <code class="xref std std-setting docutils literal"><span class="pre">TEMPLATE_DIRS</span></code> setting that points at your template overrides. Then, in those template overrides you have to insert your logo where the normal RTD logo goes.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This works for any setting you wish to change.</p>
</div>
<p>Example <code class="docutils literal"><span class="pre">local_settings.py</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">os</span>

<span class="c"># Directory that the project lives in, aka ../..</span>
<span class="n">SITE_ROOT</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>

<span class="n">TEMPLATE_DIRS</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s">&quot;</span><span class="si">%s</span><span class="s">/var/custom_templates/&quot;</span> <span class="o">%</span> <span class="n">SITE_ROOT</span><span class="p">,</span> <span class="c"># Your custom template directory, before the RTD one to override it.</span>
    <span class="s">&#39;</span><span class="si">%s</span><span class="s">/readthedocs/templates/&#39;</span> <span class="o">%</span> <span class="n">SITE_ROOT</span><span class="p">,</span> <span class="c"># Default RTD template dir</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Example <code class="docutils literal"><span class="pre">base.html</span></code> in your template overrides:</p>
<div class="highlight-python"><div class="highlight"><pre>{% extends &quot;/home/docs/checkouts/readthedocs.org/readthedocs/templates/base.html&quot; %}
{% load i18n %}

{% block branding %}{% trans &quot;My sweet site&quot; %} {% endblock %}
</pre></div>
</div>
<p>You can of course override any block in the template. If there is something that you would like to be able to customize, but isn&#8217;t currently in a block, please <a class="reference external" href="https://github.com/rtfd/readthedocs.org/issues?sort=created&amp;state=open">submit an issue</a>.</p>
</div>
</div>
<span id="document-custom_installs/local_rtd_vm"></span><div class="section" id="local-vm-install">
<h3>Local VM Install<a class="headerlink" href="#local-vm-install" title="Permalink to this headline">¶</a></h3>
<div class="section" id="assumptions-and-prerequisites">
<h4>Assumptions and Prerequisites<a class="headerlink" href="#assumptions-and-prerequisites" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Debian VM provisioned with python 2.7.x</p>
</li>
<li><p class="first">All python dependencies and setup tools are installed</p>
<div class="highlight-python"><div class="highlight"><pre>$ sudo apt-get install python-setuptools
$ sudo apt-get install build-essential
$ sudo apt-get install python-dev
$ sudo apt-get install libevent-dev
$ sudo easy_install pip
</pre></div>
</div>
</li>
<li><p class="first">Git</p>
<div class="highlight-python"><div class="highlight"><pre>$ sudo apt-get install git
</pre></div>
</div>
</li>
<li><p class="first">Git repo is <code class="docutils literal"><span class="pre">git.corp.company.com:git/docs/documentation.git</span></code></p>
</li>
<li><p class="first">Source documents are in <code class="docutils literal"><span class="pre">../docs/source</span></code></p>
</li>
<li><p class="first">Sphinx</p>
<div class="highlight-python"><div class="highlight"><pre>$ sudo pip install sphinx
</pre></div>
</div>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Not using sudo may prevent access. “error: could not create &#8216;/usr/local/lib/python2.7/dist-packages/markupsafe&#8217;: Permission denied”</p>
</div>
</div>
<div class="section" id="local-rtd-setup">
<h4>Local RTD Setup<a class="headerlink" href="#local-rtd-setup" title="Permalink to this headline">¶</a></h4>
<div class="section" id="install-rtd">
<h5>1. Install RTD.<a class="headerlink" href="#install-rtd" title="Permalink to this headline">¶</a></h5>
<p>To host your documentation on a local RTD installation, set it up in your VM.</p>
<div class="highlight-python"><div class="highlight"><pre>$ mkdir checkouts
$ cd checkouts
$ git clone https://github.com/rtfd/readthedocs.org.git
$ cd readthedocs.org
$ sudo pip install -r requirements.txt
</pre></div>
</div>
<div class="section" id="possible-error-and-resolution">
<h6>Possible Error and Resolution<a class="headerlink" href="#possible-error-and-resolution" title="Permalink to this headline">¶</a></h6>
<p><strong>Error</strong>: <code class="docutils literal"><span class="pre">error:</span> <span class="pre">command</span> <span class="pre">'gcc'</span> <span class="pre">failed</span> <span class="pre">with</span> <span class="pre">exit</span> <span class="pre">status</span> <span class="pre">1</span></code></p>
<p><strong>Resolution</strong>: Run the following commands.</p>
<div class="highlight-python"><div class="highlight"><pre>$ sudo apt-get update
$ sudo apt-get install python2.7-dev tk8.5 tcl8.5 tk8.5-dev tcl8.5-dev libxml2-devel libxslt-devel
$ sudo apt-get build-dep python-imaging --fix-missing
</pre></div>
</div>
<p>On Debian 8 (jessie) the command is slightly different</p>
<div class="highlight-python"><div class="highlight"><pre>$ sudo apt-get update
$ sudo apt-get install python2.7-dev tk8.5 tcl8.5 tk8.5-dev tcl8.5-dev libxml2-dev libxslt-dev
$ sudo apt-get build-dep python-imaging --fix-missing
</pre></div>
</div>
<p>Also don&#8217;t forget to re-run the dependency installation</p>
<div class="highlight-python"><div class="highlight"><pre>$ sudo pip install -r requirements.txt
</pre></div>
</div>
</div>
</div>
<div class="section" id="configure-the-rtd-server-and-superuser">
<h5>2. Configure the RTD Server and Superuser.<a class="headerlink" href="#configure-the-rtd-server-and-superuser" title="Permalink to this headline">¶</a></h5>
<ol class="arabic">
<li><p class="first">Run the following commands.</p>
<div class="highlight-python"><div class="highlight"><pre>$ ./manage.py migrate
$ ./manage.py createsuperuser
</pre></div>
</div>
</li>
<li><p class="first">This will prompt you to create a superuser account for Django. Enter appropriate details. For example:</p>
<div class="highlight-python"><div class="highlight"><pre>Username: monami.b
Email address: monami.b@email.com
Password: pa$$word
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="rtd-server-administration">
<h5>3. RTD Server Administration.<a class="headerlink" href="#rtd-server-administration" title="Permalink to this headline">¶</a></h5>
<p>Navigate to the <code class="docutils literal"><span class="pre">../checkouts/readthedocs.org</span></code> folder in your VM and run the following command.</p>
<div class="highlight-python"><div class="highlight"><pre>$ ./manage.py runserver [VM IP ADDRESS]:8000
$ curl -i http://[VM IP ADDRESS]:8000
</pre></div>
</div>
<p>You should now be able to log into the admin interface from any PC in your LAN at <code class="docutils literal"><span class="pre">http://[VM</span> <span class="pre">IP</span> <span class="pre">ADDRESS]:8000/admin</span></code> using the superuser account created in django.</p>
<p>Go to the dashboard at  <code class="docutils literal"><span class="pre">http://[VM</span> <span class="pre">IP</span> <span class="pre">ADDRESS]:8000/dashboard</span></code> and follow these steps:</p>
<p>1. Point the repository to your corporate Git project where the documentation source is checked in. Example:
git.corp.company.com:/git/docs/documentation.git</p>
<ol class="arabic" start="2">
<li><p class="first">Clone the documentation sources from Git in the VM.</p>
</li>
<li><p class="first">Navigate to the root path for documentation.</p>
</li>
<li><p class="first">Run the following Sphinx commands.</p>
<div class="highlight-python"><div class="highlight"><pre>$ make html
</pre></div>
</div>
</li>
</ol>
<p>This generates the HTML documentation site using the default Sphinx theme. Verify the output in your local documentation folder under <code class="docutils literal"><span class="pre">../build/html</span></code></p>
<div class="section" id="id1">
<h6>Possible Error and Resolution<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h6>
<p><strong>Error</strong>: Couldn&#8217;t access Git Corp from VM.</p>
<p><strong>Resolution</strong>: The primary access may be set from your base PC/laptop. You will need to configure your RSA keys in the VM.</p>
<p><strong>Workaround-1</strong></p>
<ol class="arabic">
<li><p class="first">In your machine, navigate to the <code class="docutils literal"><span class="pre">.ssh</span></code> folder.</p>
<div class="highlight-python"><div class="highlight"><pre>$ cd .ssh/
$ cat id_rsa
</pre></div>
</div>
</li>
<li><p class="first">Copy the entire Private Key.</p>
</li>
<li><p class="first">Now, SSH to the VM.</p>
</li>
<li><p class="first">Open the <code class="docutils literal"><span class="pre">id_rsa</span></code> file in the VM.</p>
<div class="highlight-python"><div class="highlight"><pre>$ vim /home/&lt;username&gt;/.ssh/id_rsa
</pre></div>
</div>
</li>
<li><p class="first">Paste the RSA key copied from your machine and save file (<code class="docutils literal"><span class="pre">Esc</span></code>. <code class="docutils literal"><span class="pre">:wq!</span></code>).</p>
</li>
</ol>
<p><strong>Workaround 2</strong></p>
<p>SSH to the VM using the <code class="docutils literal"><span class="pre">-A</span></code> directive.</p>
<div class="highlight-python"><div class="highlight"><pre>$ ssh document-vm -A
</pre></div>
</div>
<p>This provides all permissions for that particular remote session, which are revoked when you logout.</p>
</div>
</div>
<div class="section" id="build-documentation-on-local-rtd-instance">
<h5>4. Build Documentation on Local RTD Instance.<a class="headerlink" href="#build-documentation-on-local-rtd-instance" title="Permalink to this headline">¶</a></h5>
<p>Log into <code class="docutils literal"><span class="pre">http://[VM</span> <span class="pre">IP</span> <span class="pre">ADDRESS]:[PORT]</span></code> using the django superuser creds and follow these steps.</p>
<div class="section" id="for-a-new-project">
<h6>For a new project<a class="headerlink" href="#for-a-new-project" title="Permalink to this headline">¶</a></h6>
<ol class="arabic">
<li><p class="first">Select <strong>&lt;username&gt; &gt; Add Project</strong> from the user menu.</p>
</li>
<li><p class="first">Click <strong>Manually Import Project</strong>.</p>
</li>
<li><p class="first">Provide the following information in the <strong>Project Details</strong> page:</p>
<blockquote>
<div><ul class="simple">
<li><strong>Name</strong>: Appropriate name for the documentation project. For example – API Docs Project</li>
<li><strong>Repository URL</strong>: URL to the documentation project. For example - git.corp.company.com:/git/docs/documentation.git</li>
<li><strong>Repository Type</strong>: Git</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">Select the <strong>Edit advanced project options</strong> checkbox.</p>
</li>
<li><p class="first">Click <strong>Next</strong>.</p>
</li>
</ol>
</div>
<div class="section" id="for-an-existing-project">
<h6>For an existing project<a class="headerlink" href="#for-an-existing-project" title="Permalink to this headline">¶</a></h6>
<ol class="arabic simple">
<li>Select <strong>&lt;username&gt; &gt; Projects</strong> from the user menu.</li>
<li>Select the relevant project from the <strong>Projects</strong> list.</li>
<li>Select latest from the <strong>Build a version</strong> dropdown.</li>
<li>Click <strong>Build</strong>. This will take you to the Builds tab where the progress status is displayed. This may take some time.</li>
</ol>
</div>
</div>
</div>
<div class="section" id="tips">
<h4>Tips<a class="headerlink" href="#tips" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>If the installation doesn&#8217;t work on VM using your login/LDAP credentials, try running the operations as root (su).</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="toctree-wrapper compound" id="designer-documentation">
<span id="design-docs"></span><span id="document-design"></span><div class="section" id="designing-read-the-docs">
<span id="id1"></span><h2>Designing Read the Docs<a class="headerlink" href="#designing-read-the-docs" title="Permalink to this headline">¶</a></h2>
<p>So you&#8217;re thinking of contributing some of your
time and design skills to Read the Docs? That&#8217;s
<strong>awesome</strong>. This document will lead you through
a few features available to ease the process of
working with Read the Doc&#8217;s CSS and static assets.</p>
<p>To start, you should follow the <a class="reference internal" href="index.html#installing-read-the-docs"><span>Installation</span></a> instructions
to get a working copy of the Read the Docs repository locally.</p>
<div class="section" id="style-catalog">
<h3>Style Catalog<a class="headerlink" href="#style-catalog" title="Permalink to this headline">¶</a></h3>
<p>Once you have RTD running locally, you can open <code class="docutils literal"><span class="pre">http://localhost:8000/style-catalog/</span></code>
for a quick overview of the currently available styles.</p>
<img alt="_images/headers.png" src="_images/headers.png" />
<p>This way you can quickly get started writing HTML &#8211; or if you&#8217;re
modifying existing styles you can get a quick idea of how things
will change site-wide.</p>
</div>
<div class="section" id="typekit-fonts">
<h3>Typekit Fonts<a class="headerlink" href="#typekit-fonts" title="Permalink to this headline">¶</a></h3>
<p>RTD uses <a class="reference external" href="https://typekit.com/fonts/ff-meta-web-pro">FF Meta</a> via TypeKit to render most display and body text.</p>
<p>To make this work locally, you can register a free TypeKit account and
create a site profile for <code class="docutils literal"><span class="pre">localhost:8000</span></code> that includes the linked font.</p>
</div>
<div class="section" id="readthedocs-org-changes">
<h3>Readthedocs.org Changes<a class="headerlink" href="#readthedocs-org-changes" title="Permalink to this headline">¶</a></h3>
<p>Styles for the primary RTD site are located in <code class="docutils literal"><span class="pre">media/css</span></code> directory.</p>
<p>These styles only affect the primary site &#8211; <strong>not</strong> any of the generated
documentation using the default RTD style.</p>
</div>
<div class="section" id="sphinx-template-changes">
<h3>Sphinx Template Changes<a class="headerlink" href="#sphinx-template-changes" title="Permalink to this headline">¶</a></h3>
<p>Styles for generated documentation are located in <code class="docutils literal"><span class="pre">readthedocs/templates/sphinx/_static/rtd.css</span></code></p>
<p>Of note, projects will retain the version of that file they were last built with &#8211; so if you&#8217;re
editing that file and not seeing any changes to your local built documentation, you need to rebuild
your example project.</p>
</div>
<div class="section" id="contributing">
<h3>Contributing<a class="headerlink" href="#contributing" title="Permalink to this headline">¶</a></h3>
<p>Contributions should follow the <a class="reference internal" href="index.html#contributing-to-read-the-docs"><span>Contributing to Read the Docs</span></a> guidelines where applicable &#8211; ideally you&#8217;ll
create a pull request against the <a class="reference external" href="https://github.com/rtfd/readthedocs.org/pulls">Read the Docs GitHub project</a> from your forked repo and include
a brief description of what you added / removed / changed, as well as an attached image (you can just
take a screenshot and drop it into the PR creation form) of the effects of your changes.</p>
<p>There&#8217;s not a hard browser range, but your design changes should work reasonably well across all major
browsers, IE8+ &#8211; that&#8217;s not to say it needs to be pixel-perfect in older browsers! Just avoid
making changes that render older browsers utterly unusable (or provide a sane fallback).</p>
</div>
</div>
<span id="document-theme"></span><div class="section" id="read-the-docs-theme">
<h2>Read the Docs Theme<a class="headerlink" href="#read-the-docs-theme" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This feature only applies to Sphinx documentation. We are working to bring it to our other documentation backends.</p>
</div>
<img alt="_images/screen_mobile.png" src="_images/screen_mobile.png" />
<p>By default, Read the Docs will use its own custom sphinx theme unless you set one yourself
in your <code class="docutils literal"><span class="pre">conf.py</span></code> file. Likewise, setting the theme to <code class="docutils literal"><span class="pre">default</span></code> will accomplish the
same behavior. The theme can be found on <a class="reference external" href="https://www.github.com/snide/sphinx_rtd_theme">github here</a> and is meant to work
independently of Read the Docs itself if you want to just use the theme locally.</p>
<p>This <a class="reference external" href="http://ericholscher.com/blog/2013/nov/4/new-theme-read-the-docs/">blog post</a> provides some info about the design, but
in short, the theme aims to solve the limitations of Sphinx&#8217;s default navigation setup,
where only a small portion of your docs were accessible in the sidebar. Our theme is also
meant to work well on mobile and tablet devices.</p>
<div class="section" id="contributing-to-the-theme">
<h3>Contributing to the theme<a class="headerlink" href="#contributing-to-the-theme" title="Permalink to this headline">¶</a></h3>
<p>If you have issues or feedback, please <a class="reference external" href="https://github.com/snide/sphinx_rtd_theme/issues">open an issue</a> on the theme&#8217;s GitHub repository
which itself is a submodule within the larger RTD codebase. That means any changes to the
theme or the Read the Docs badge styling should be made there. The code is separate so that
it can be used independent of Read the Docs as a regular Sphinx theme.</p>
</div>
<div class="section" id="how-the-table-of-contents-builds">
<h3>How the Table of Contents builds<a class="headerlink" href="#how-the-table-of-contents-builds" title="Permalink to this headline">¶</a></h3>
<p>Currently the left menu will build based upon any <code class="docutils literal"><span class="pre">toctree(s)</span></code> defined in your <code class="docutils literal"><span class="pre">index.rst</span></code> file.
It outputs 2 levels of depth, which should give your visitors a high level of access to your
docs. If no toctrees are set in your index.rst file the theme reverts to sphinx&#8217;s usual
local toctree which is based upon the heading set on your current page.</p>
<p>It&#8217;s important to note that if you don&#8217;t follow the same styling for your rST headers across
your documents, the toctree will misbuild, and the resulting menu might not show the correct
depth when it renders.</p>
</div>
<div class="section" id="other-style-notes">
<h3>Other style notes<a class="headerlink" href="#other-style-notes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>As a responsive style, you should not set a height and width to your images.</li>
<li>Wide tables will add a horizontal scroll bar to maintain the responsive layout.</li>
</ul>
</div>
</div>
</div>
<div class="toctree-wrapper compound" id="operations-documentation">
<span id="ops-docs"></span><span id="document-rtfd"></span><div class="section" id="configuration-of-the-production-servers">
<h2>Configuration of the production servers<a class="headerlink" href="#configuration-of-the-production-servers" title="Permalink to this headline">¶</a></h2>
<p>This document is to help people who are involved in the production instance of Read the Docs running on readthedocs.org. It contains implementation details and useful hints for the people handling operations of the servers.</p>
<div class="section" id="elastic-search-setup">
<h3>Elastic Search Setup<a class="headerlink" href="#elastic-search-setup" title="Permalink to this headline">¶</a></h3>
<p>You need to install the ICU plugin to make ES work:</p>
<div class="highlight-python"><div class="highlight"><pre># Use the correct path to the plugin executable that ships with ES.
/usr/share/elasticsearch/bin/plugin -install elasticsearch/elasticsearch-analysis-icu/2.3.0
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">search.indexes</span> <span class="kn">import</span> <span class="n">Index</span><span class="p">,</span> <span class="n">PageIndex</span><span class="p">,</span> <span class="n">ProjectIndex</span><span class="p">,</span> <span class="n">SectionIndex</span>

<span class="c"># Create the index.</span>
<span class="n">index</span> <span class="o">=</span> <span class="n">Index</span><span class="p">()</span>
<span class="n">index_name</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">timestamped_index</span><span class="p">()</span>
<span class="n">index</span><span class="o">.</span><span class="n">create_index</span><span class="p">(</span><span class="n">index_name</span><span class="p">)</span>
<span class="n">index</span><span class="o">.</span><span class="n">update_aliases</span><span class="p">(</span><span class="n">index_name</span><span class="p">)</span>
<span class="c"># Update mapping</span>
<span class="n">proj</span> <span class="o">=</span> <span class="n">ProjectIndex</span><span class="p">()</span>
<span class="n">proj</span><span class="o">.</span><span class="n">put_mapping</span><span class="p">()</span>
<span class="n">page</span> <span class="o">=</span> <span class="n">PageIndex</span><span class="p">()</span>
<span class="n">page</span><span class="o">.</span><span class="n">put_mapping</span><span class="p">()</span>
<span class="n">sec</span> <span class="o">=</span> <span class="n">SectionIndex</span><span class="p">()</span>
<span class="n">sec</span><span class="o">.</span><span class="n">put_mapping</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2010, Eric Holscher, Charlie Leifer, Bobby Grace.
      
        <span class="commit">
          Revision <code>55M</code>.
        </span>
      

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
        
          <dd><a href="/en/latest/">latest</a></dd>
        
      </dl>
      <dl>
        <dt>Downloads</dt>
        
          <dd><a href="//rtd4cdforward.io/projects/docs/downloads/htmlzip/latest/">htmlzip</a></dd>
        
      </dl>
      <dl>
        <dt>On Read the Docs</dt>
          <dd>
            <a href="//rtd4cdforward.io/projects/docs/?fromdocs=docs">Project Home</a>
          </dd>
          <dd>
            <a href="//rtd4cdforward.io/builds/docs/?fromdocs=docs">Builds</a>
          </dd>
      </dl>
      <hr/>
      Free document hosting provided by <a href="http://www.readthedocs.org">Read the Docs</a>.

    </div>
  </div>



  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>